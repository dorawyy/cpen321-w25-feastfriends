{"numFailedTestSuites":1,"numFailedTests":6,"numPassedTestSuites":18,"numPassedTests":448,"numPendingTestSuites":0,"numPendingTests":6,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":19,"numTotalTests":460,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1764391022998,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Notification Service Logic - Failure Scenarios","sendNotificationToUser Error Cleanup"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic - Failure Scenarios sendNotificationToUser Error Cleanup should handle \"messaging/invalid-registration-token\" error and call removeInvalidToken","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391026236,"status":"passed","title":"should handle \"messaging/invalid-registration-token\" error and call removeInvalidToken"},{"ancestorTitles":["Notification Service Logic - Failure Scenarios","sendNotificationToUser Error Cleanup"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic - Failure Scenarios sendNotificationToUser Error Cleanup should handle \"messaging/registration-token-not-registered\" error (errorInfo code) and call removeInvalidToken","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391026244,"status":"passed","title":"should handle \"messaging/registration-token-not-registered\" error (errorInfo code) and call removeInvalidToken"},{"ancestorTitles":["Notification Service Logic - Failure Scenarios","sendNotificationToUser Error Cleanup"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic - Failure Scenarios sendNotificationToUser Error Cleanup should handle a general FCM push failure (non-token error) and re-throw without cleaning token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391026246,"status":"passed","title":"should handle a general FCM push failure (non-token error) and re-throw without cleaning token"},{"ancestorTitles":["Notification Service Logic - Failure Scenarios","sendNotificationToUsers Error Handling"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic - Failure Scenarios sendNotificationToUsers Error Handling should throw and re-throw an error if the DB query for multiple users fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391026253,"status":"passed","title":"should throw and re-throw an error if the DB query for multiple users fails"},{"ancestorTitles":["Notification Service Helper Wrappers - Success Paths"],"duration":3,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'map')\n    at sendNotificationToUsers (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:75:8)\n    at Object.notifyRoomMembers (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:98:3)\n    at Object.<anonymous> (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/notification.mock.test.ts:111:5)"],"fullName":"Notification Service Helper Wrappers - Success Paths notifyRoomMembers should delegate to sendNotificationToUsers with same memberIds and payload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391026256,"status":"failed","title":"notifyRoomMembers should delegate to sendNotificationToUsers with same memberIds and payload"},{"ancestorTitles":["Notification Service Helper Wrappers - Success Paths"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'map')\n    at sendNotificationToUsers (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:75:8)\n    at Object.notifyGroupMembers (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:108:3)\n    at Object.<anonymous> (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/notification.mock.test.ts:123:5)"],"fullName":"Notification Service Helper Wrappers - Success Paths notifyGroupMembers should delegate to sendNotificationToUsers with same memberIds and payload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391026259,"status":"failed","title":"notifyGroupMembers should delegate to sendNotificationToUsers with same memberIds and payload"},{"ancestorTitles":["Notification Service Helper Wrappers - Success Paths"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: User not found: user-1\n    at sendNotificationToUser (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:37:13)\n    at Object.notifyRoomExpired (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:148:3)\n    at Object.<anonymous> (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/notification.mock.test.ts:134:5)"],"fullName":"Notification Service Helper Wrappers - Success Paths notifyRoomExpired should build the correct payload and call sendNotificationToUser","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391026260,"status":"failed","title":"notifyRoomExpired should build the correct payload and call sendNotificationToUser"},{"ancestorTitles":["Notification Service Helper Wrappers - Success Paths"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: User not found: user-1\n    at sendNotificationToUser (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:37:13)\n    at Object.notifyUserJoinedRoom (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:189:3)\n    at Object.<anonymous> (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/notification.mock.test.ts:152:5)"],"fullName":"Notification Service Helper Wrappers - Success Paths notifyUserJoinedRoom should build the correct payload and call sendNotificationToUser","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391026262,"status":"failed","title":"notifyUserJoinedRoom should build the correct payload and call sendNotificationToUser"},{"ancestorTitles":["Notification Service Helper Wrappers - Success Paths"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["Error: User not found: user-1\n    at sendNotificationToUser (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:37:13)\n    at Object.notifyGroupExpired (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:208:3)\n    at Object.<anonymous> (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/notification.mock.test.ts:170:5)"],"fullName":"Notification Service Helper Wrappers - Success Paths notifyGroupExpired should build the correct payload and call sendNotificationToUser","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391026263,"status":"failed","title":"notifyGroupExpired should build the correct payload and call sendNotificationToUser"},{"ancestorTitles":["Notification Service Helper Wrappers - Success Paths"],"duration":1,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'map')\n    at sendNotificationToUsers (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:75:8)\n    at Object.notifyVotingTimeExpired (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/src/services/notificationService.ts:229:3)\n    at Object.<anonymous> (/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/notification.mock.test.ts:188:5)"],"fullName":"Notification Service Helper Wrappers - Success Paths notifyVotingTimeExpired should build the correct payload and call sendNotificationToUsers","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391026264,"status":"failed","title":"notifyVotingTimeExpired should build the correct payload and call sendNotificationToUsers"},{"ancestorTitles":["Notification API Endpoints - With Mocking (500 Failures)","POST /register-token Failure"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - With Mocking (500 Failures) POST /register-token Failure should return 500 if tokenManager.updateUserToken fails","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391026266,"status":"passed","title":"should return 500 if tokenManager.updateUserToken fails"},{"ancestorTitles":["Notification API Endpoints - With Mocking (500 Failures)","POST /unregister-token Failure"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - With Mocking (500 Failures) POST /unregister-token Failure should return 500 if tokenManager.clearUserToken fails","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391026286,"status":"passed","title":"should return 500 if tokenManager.clearUserToken fails"},{"ancestorTitles":["Notification API Endpoints - With Mocking (500 Failures)","POST /test Failure"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - With Mocking (500 Failures) POST /test Failure should return 500 if notificationService.sendNotificationToUser fails","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391026289,"status":"passed","title":"should return 500 if notificationService.sendNotificationToUser fails"}],"endTime":1764391026300,"message":"  ● Notification Service Helper Wrappers - Success Paths › notifyRoomMembers should delegate to sendNotificationToUsers with same memberIds and payload\n\n    TypeError: Cannot read properties of undefined (reading 'map')\n\n      73 |     \n      74 |     const tokens = users\n    > 75 |       .map(user => user.fcmToken)\n         |        ^\n      76 |       .filter((token): token is string => token != null);\n      77 |\n      78 |     if (tokens.length === 0) {\n\n      at sendNotificationToUsers (src/services/notificationService.ts:75:8)\n      at Object.notifyRoomMembers (src/services/notificationService.ts:98:3)\n      at Object.<anonymous> (tests/with-mocks/notification.mock.test.ts:111:5)\n\n  ● Notification Service Helper Wrappers - Success Paths › notifyGroupMembers should delegate to sendNotificationToUsers with same memberIds and payload\n\n    TypeError: Cannot read properties of undefined (reading 'map')\n\n      73 |     \n      74 |     const tokens = users\n    > 75 |       .map(user => user.fcmToken)\n         |        ^\n      76 |       .filter((token): token is string => token != null);\n      77 |\n      78 |     if (tokens.length === 0) {\n\n      at sendNotificationToUsers (src/services/notificationService.ts:75:8)\n      at Object.notifyGroupMembers (src/services/notificationService.ts:108:3)\n      at Object.<anonymous> (tests/with-mocks/notification.mock.test.ts:123:5)\n\n  ● Notification Service Helper Wrappers - Success Paths › notifyRoomExpired should build the correct payload and call sendNotificationToUser\n\n    User not found: user-1\n\n      35 |     \n      36 |     if (!user) {\n    > 37 |       throw new Error(`User not found: ${userId}`);\n         |             ^\n      38 |     }\n      39 |\n      40 |     if (!user.fcmToken) {\n\n      at sendNotificationToUser (src/services/notificationService.ts:37:13)\n      at Object.notifyRoomExpired (src/services/notificationService.ts:148:3)\n      at Object.<anonymous> (tests/with-mocks/notification.mock.test.ts:134:5)\n\n  ● Notification Service Helper Wrappers - Success Paths › notifyUserJoinedRoom should build the correct payload and call sendNotificationToUser\n\n    User not found: user-1\n\n      35 |     \n      36 |     if (!user) {\n    > 37 |       throw new Error(`User not found: ${userId}`);\n         |             ^\n      38 |     }\n      39 |\n      40 |     if (!user.fcmToken) {\n\n      at sendNotificationToUser (src/services/notificationService.ts:37:13)\n      at Object.notifyUserJoinedRoom (src/services/notificationService.ts:189:3)\n      at Object.<anonymous> (tests/with-mocks/notification.mock.test.ts:152:5)\n\n  ● Notification Service Helper Wrappers - Success Paths › notifyGroupExpired should build the correct payload and call sendNotificationToUser\n\n    User not found: user-1\n\n      35 |     \n      36 |     if (!user) {\n    > 37 |       throw new Error(`User not found: ${userId}`);\n         |             ^\n      38 |     }\n      39 |\n      40 |     if (!user.fcmToken) {\n\n      at sendNotificationToUser (src/services/notificationService.ts:37:13)\n      at Object.notifyGroupExpired (src/services/notificationService.ts:208:3)\n      at Object.<anonymous> (tests/with-mocks/notification.mock.test.ts:170:5)\n\n  ● Notification Service Helper Wrappers - Success Paths › notifyVotingTimeExpired should build the correct payload and call sendNotificationToUsers\n\n    TypeError: Cannot read properties of undefined (reading 'map')\n\n      73 |     \n      74 |     const tokens = users\n    > 75 |       .map(user => user.fcmToken)\n         |        ^\n      76 |       .filter((token): token is string => token != null);\n      77 |\n      78 |     if (tokens.length === 0) {\n\n      at sendNotificationToUsers (src/services/notificationService.ts:75:8)\n      at Object.notifyVotingTimeExpired (src/services/notificationService.ts:229:3)\n      at Object.<anonymous> (tests/with-mocks/notification.mock.test.ts:188:5)\n","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/notification.mock.test.ts","startTime":1764391023153,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["POST /api/auth/signup - Validation (No Mocking)"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signup - Validation (No Mocking) should return 400 when idToken is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391027329,"status":"passed","title":"should return 400 when idToken is missing"},{"ancestorTitles":["POST /api/auth/signup - Validation (No Mocking)"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signup - Validation (No Mocking) should return 409 when user already exists","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391027341,"status":"passed","title":"should return 409 when user already exists"},{"ancestorTitles":["POST /api/auth/signup - Validation (No Mocking)"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signup - Validation (No Mocking) should return 500 when JWT_SECRET is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391027350,"status":"passed","title":"should return 500 when JWT_SECRET is missing"},{"ancestorTitles":["POST /api/auth/signup - Validation (No Mocking)"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signup - Validation (No Mocking) should handle errors in catch block and call next(error)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391027353,"status":"passed","title":"should handle errors in catch block and call next(error)"},{"ancestorTitles":["POST /api/auth/signup - Validation (No Mocking)"],"duration":18,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signup - Validation (No Mocking) should successfully sign up new user and return JWT token","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391027369,"status":"passed","title":"should successfully sign up new user and return JWT token"},{"ancestorTitles":["POST /api/auth/signin - Validation (No Mocking)"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signin - Validation (No Mocking) should return 400 when idToken is missing in signin","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391027387,"status":"passed","title":"should return 400 when idToken is missing in signin"},{"ancestorTitles":["POST /api/auth/signin - Validation (No Mocking)"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signin - Validation (No Mocking) should return 404 when user not found","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391027390,"status":"passed","title":"should return 404 when user not found"},{"ancestorTitles":["POST /api/auth/signin - Validation (No Mocking)"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signin - Validation (No Mocking) should return 500 when JWT_SECRET is missing in signin","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391027393,"status":"passed","title":"should return 500 when JWT_SECRET is missing in signin"},{"ancestorTitles":["POST /api/auth/signin - Validation (No Mocking)"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signin - Validation (No Mocking) should successfully sign in existing user and return JWT token","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391027400,"status":"passed","title":"should successfully sign in existing user and return JWT token"},{"ancestorTitles":["POST /api/auth/signin - Validation (No Mocking)"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signin - Validation (No Mocking) should handle errors in signin catch block and call next(error)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391027412,"status":"passed","title":"should handle errors in signin catch block and call next(error)"},{"ancestorTitles":["POST /api/auth/signin - Validation (No Mocking)"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signin - Validation (No Mocking) should update profile picture when user has empty profile picture and Google provides one","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391027415,"status":"passed","title":"should update profile picture when user has empty profile picture and Google provides one"},{"ancestorTitles":["POST /api/auth/signin - Validation (No Mocking)"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signin - Validation (No Mocking) should update profile picture when user has undefined profile picture and Google provides one","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391027429,"status":"passed","title":"should update profile picture when user has undefined profile picture and Google provides one"},{"ancestorTitles":["POST /api/auth/signin - Validation (No Mocking)"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signin - Validation (No Mocking) should skip profile picture conversion when googleData.picture is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391027438,"status":"passed","title":"should skip profile picture conversion when googleData.picture is missing"},{"ancestorTitles":["POST /api/auth/signin - Validation (No Mocking)"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/signin - Validation (No Mocking) should keep existing profile picture when user has one and Google provides picture","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391027446,"status":"passed","title":"should keep existing profile picture when user has one and Google provides picture"},{"ancestorTitles":["POST /api/auth/google - Validation (No Mocking)"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/google - Validation (No Mocking) should return 400 when idToken is missing in googleAuth","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391027455,"status":"passed","title":"should return 400 when idToken is missing in googleAuth"},{"ancestorTitles":["POST /api/auth/google - Validation (No Mocking)"],"duration":621,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/google - Validation (No Mocking) should return 401 when Google token payload is invalid (missing sub)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391027457,"status":"passed","title":"should return 401 when Google token payload is invalid (missing sub)"},{"ancestorTitles":["POST /api/auth/google - Validation (No Mocking)"],"duration":621,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/google - Validation (No Mocking) should return 401 when Google token payload is invalid (missing email)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391028078,"status":"passed","title":"should return 401 when Google token payload is invalid (missing email)"},{"ancestorTitles":["POST /api/auth/google - Validation (No Mocking)"],"duration":28,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/google - Validation (No Mocking) should return 500 when JWT_SECRET is missing in googleAuth","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391028700,"status":"passed","title":"should return 500 when JWT_SECRET is missing in googleAuth"},{"ancestorTitles":["POST /api/auth/google - Validation (No Mocking)"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/google - Validation (No Mocking) should use fallback \"User\" when name is missing in googleAuth","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391028729,"status":"passed","title":"should use fallback \"User\" when name is missing in googleAuth"},{"ancestorTitles":["POST /api/auth/google - Validation (No Mocking)"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/google - Validation (No Mocking) should use empty string fallback when picture is missing in googleAuth","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391028741,"status":"passed","title":"should use empty string fallback when picture is missing in googleAuth"},{"ancestorTitles":["POST /api/auth/google - Validation (No Mocking)"],"duration":613,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/google - Validation (No Mocking) should return 401 when Google token payload is null","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391028757,"status":"passed","title":"should return 401 when Google token payload is null"},{"ancestorTitles":["POST /api/auth/google - Validation (No Mocking)"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/google - Validation (No Mocking) should create new user when not found","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391029370,"status":"passed","title":"should create new user when not found"},{"ancestorTitles":["POST /api/auth/google - Validation (No Mocking)"],"duration":22,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/google - Validation (No Mocking) should create new user when not found and update existing user status when found","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"startAt":1764391029383,"status":"passed","title":"should create new user when not found and update existing user status when found"},{"ancestorTitles":["POST /api/auth/logout - No Mocking"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/logout - No Mocking should return 200 and logout user successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391029405,"status":"passed","title":"should return 200 and logout user successfully"},{"ancestorTitles":["POST /api/auth/logout - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/logout - No Mocking should return 401 without authentication token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391029412,"status":"passed","title":"should return 401 without authentication token"},{"ancestorTitles":["POST /api/auth/logout - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/logout - No Mocking should return 200 even if user not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391029414,"status":"passed","title":"should return 200 even if user not found"},{"ancestorTitles":["Auth Middleware - Error Handling via Auth Endpoints"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware - Error Handling via Auth Endpoints should return 500 when JWT_SECRET is missing in authMiddleware","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391029416,"status":"passed","title":"should return 500 when JWT_SECRET is missing in authMiddleware"},{"ancestorTitles":["Auth Middleware - Error Handling via Auth Endpoints"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware - Error Handling via Auth Endpoints should return 401 with Invalid token message for JsonWebTokenError","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391029420,"status":"passed","title":"should return 401 with Invalid token message for JsonWebTokenError"},{"ancestorTitles":["Auth Middleware - Error Handling via Auth Endpoints"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware - Error Handling via Auth Endpoints should return 401 with Token expired message for TokenExpiredError","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391029422,"status":"passed","title":"should return 401 with Token expired message for TokenExpiredError"},{"ancestorTitles":["GET /api/auth/verify - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/auth/verify - No Mocking should return 200 and user info with valid token","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"startAt":1764391029424,"status":"passed","title":"should return 200 and user info with valid token"},{"ancestorTitles":["GET /api/auth/verify - No Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/auth/verify - No Mocking should return 401 without authentication token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391029427,"status":"passed","title":"should return 401 without authentication token"},{"ancestorTitles":["GET /api/auth/verify - No Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/auth/verify - No Mocking should return 404 when user not found in verify","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391029430,"status":"passed","title":"should return 404 when user not found in verify"},{"ancestorTitles":["POST /api/auth/fcm-token - No Mocking"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/fcm-token - No Mocking should return 200 and update FCM token successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391029433,"status":"passed","title":"should return 200 and update FCM token successfully"},{"ancestorTitles":["POST /api/auth/fcm-token - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/fcm-token - No Mocking should return 400 when fcmToken is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391029440,"status":"passed","title":"should return 400 when fcmToken is missing"},{"ancestorTitles":["POST /api/auth/fcm-token - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/fcm-token - No Mocking should return 401 without authentication token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391029442,"status":"passed","title":"should return 401 without authentication token"},{"ancestorTitles":["POST /api/auth/fcm-token - No Mocking"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/fcm-token - No Mocking should return 404 when user not found in updateFCMToken","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391029443,"status":"passed","title":"should return 404 when user not found in updateFCMToken"},{"ancestorTitles":["DELETE /api/auth/account - No Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/auth/account - No Mocking should return 200 and delete account successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391029447,"status":"passed","title":"should return 200 and delete account successfully"},{"ancestorTitles":["DELETE /api/auth/account - No Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/auth/account - No Mocking should return 400 when user is in a room","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391029452,"status":"passed","title":"should return 400 when user is in a room"},{"ancestorTitles":["DELETE /api/auth/account - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/auth/account - No Mocking should return 400 when user is in a group","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391029455,"status":"passed","title":"should return 400 when user is in a group"},{"ancestorTitles":["DELETE /api/auth/account - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/auth/account - No Mocking should return 401 without authentication token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391029457,"status":"passed","title":"should return 401 without authentication token"},{"ancestorTitles":["DELETE /api/auth/account - No Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/auth/account - No Mocking should return 404 when user not found in deleteAccount","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391029458,"status":"passed","title":"should return 404 when user not found in deleteAccount"}],"endTime":1764391029486,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/no-mocks/auth.test.ts","startTime":1764391026307,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":62,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should create new room when no matching rooms exist and update user preferences","invocations":1,"location":null,"numPassingAsserts":18,"retryReasons":[],"startAt":1764391030299,"status":"passed","title":"should create new room when no matching rooms exist and update user preferences"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":44,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should join existing room with matching preferences","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391030361,"status":"passed","title":"should join existing room with matching preferences"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":96,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should create group when room reaches MAX_MEMBERS (covers matchingService lines 169, 260-304)","invocations":1,"location":null,"numPassingAsserts":32,"retryReasons":[],"startAt":1764391030405,"status":"passed","title":"should create group when room reaches MAX_MEMBERS (covers matchingService lines 169, 260-304)"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should return 401 without authentication","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391030501,"status":"passed","title":"should return 401 without authentication"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":33,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should return 200 with new roomId when no good match found (covers matchingService lines 69-70)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391030521,"status":"passed","title":"should return 200 with new roomId when no good match found (covers matchingService lines 69-70)"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":43,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should allow user to rejoin matching when already in room","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391030555,"status":"passed","title":"should allow user to rejoin matching when already in room"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":37,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should return 500 when user already in group","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391030599,"status":"passed","title":"should return 500 when user already in group"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should use user.preference fallback when cuisine not provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391030636,"status":"passed","title":"should use user.preference fallback when cuisine not provided"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":49,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should use default cuisines when users have no preferences","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391030661,"status":"passed","title":"should use default cuisines when users have no preferences"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":36,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should use user.budget fallback when budget not provided (covers matchingService line 105)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391030710,"status":"passed","title":"should use user.budget fallback when budget not provided (covers matchingService line 105)"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":31,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should use default budget 50 when budget not provided and user has no budget (covers matchingService line 105)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391030746,"status":"passed","title":"should use default budget 50 when budget not provided and user has no budget (covers matchingService line 105)"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":29,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should use user.radiusKm fallback when radiusKm not provided (covers matchingService line 106)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391030777,"status":"passed","title":"should use user.radiusKm fallback when radiusKm not provided (covers matchingService line 106)"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":23,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should use default radiusKm 5 when radiusKm not provided and user has no radiusKm (covers matchingService line 106)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391030806,"status":"passed","title":"should use default radiusKm 5 when radiusKm not provided and user has no radiusKm (covers matchingService line 106)"},{"ancestorTitles":["POST /api/matching/join - No Mocking"],"duration":27,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - No Mocking should use empty array for cuisines when user.preference is empty (covers matchingService line 121)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391030829,"status":"passed","title":"should use empty array for cuisines when user.preference is empty (covers matchingService line 121)"},{"ancestorTitles":["POST /api/matching/join/:roomId - No Mocking"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join/:roomId - No Mocking should return 501 Not Implemented","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391030856,"status":"passed","title":"should return 501 Not Implemented"},{"ancestorTitles":["PUT /api/matching/leave/:roomId - No Mocking"],"duration":37,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PUT /api/matching/leave/:roomId - No Mocking should successfully leave room and delete room when last member leaves","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"startAt":1764391030881,"status":"passed","title":"should successfully leave room and delete room when last member leaves"},{"ancestorTitles":["PUT /api/matching/leave/:roomId - No Mocking"],"duration":26,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PUT /api/matching/leave/:roomId - No Mocking should handle leaving non-existent room gracefully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391030919,"status":"passed","title":"should handle leaving non-existent room gracefully"},{"ancestorTitles":["GET /api/matching/status/:roomId - No Mocking"],"duration":23,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/matching/status/:roomId - No Mocking should return room status for valid roomId","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1764391030945,"status":"passed","title":"should return room status for valid roomId"},{"ancestorTitles":["GET /api/matching/status/:roomId - No Mocking"],"duration":22,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/matching/status/:roomId - No Mocking should return 500 for non-existent room","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391030969,"status":"passed","title":"should return 500 for non-existent room"},{"ancestorTitles":["GET /api/matching/users/:roomId - No Mocking"],"duration":23,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/matching/users/:roomId - No Mocking should return list of users in room","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391030991,"status":"passed","title":"should return list of users in room"},{"ancestorTitles":["GET /api/matching/users/:roomId - No Mocking"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/matching/users/:roomId - No Mocking should return 500 when room not found in getRoomUsers (covers matchingService lines 338-339)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391031014,"status":"passed","title":"should return 500 when room not found in getRoomUsers (covers matchingService lines 338-339)"},{"ancestorTitles":["POST /api/matching/join - Location-Based Matching"],"duration":28,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - Location-Based Matching should match user with nearby room based on location","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391031034,"status":"passed","title":"should match user with nearby room based on location"},{"ancestorTitles":["POST /api/matching/join - Location-Based Matching"],"duration":28,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - Location-Based Matching should reject rooms that are too far away","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391031063,"status":"passed","title":"should reject rooms that are too far away"},{"ancestorTitles":["POST /api/matching/join - Location-Based Matching"],"duration":26,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - Location-Based Matching should reject rooms without location data when user has location","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391031091,"status":"passed","title":"should reject rooms without location data when user has location"},{"ancestorTitles":["POST /api/matching/join - Location-Based Matching"],"duration":33,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - Location-Based Matching should skip location filtering when user has no location","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391031117,"status":"passed","title":"should skip location filtering when user has no location"},{"ancestorTitles":["POST /api/matching/join - Location-Based Matching"],"duration":27,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - Location-Based Matching should prefer closer rooms when scoring","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391031150,"status":"passed","title":"should prefer closer rooms when scoring"},{"ancestorTitles":["POST /api/matching/join - Location-Based Matching"],"duration":36,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - Location-Based Matching should create new room with user location when no matches found","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391031177,"status":"passed","title":"should create new room with user location when no matches found"},{"ancestorTitles":["POST /api/matching/join - Location-Based Matching"],"duration":32,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/matching/join - Location-Based Matching should update room average location when user joins","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391031213,"status":"passed","title":"should update room average location when user joins"}],"endTime":1764391031274,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/no-mocks/matching.test.ts","startTime":1764391029490,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GET /api/group/status - No Mocking"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/group/status - No Mocking Should return 200 and group status for user in a group","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"startAt":1764391032092,"status":"passed","title":"Should return 200 and group status for user in a group"},{"ancestorTitles":["GET /api/group/status - No Mocking"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/group/status - No Mocking should return 404 when user is not in a group","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391032104,"status":"passed","title":"should return 404 when user is not in a group"},{"ancestorTitles":["GET /api/group/status - No Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/group/status - No Mocking should return 401 without authentication token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391032110,"status":"passed","title":"should return 401 without authentication token"},{"ancestorTitles":["GET /api/group/status - No Mocking"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/group/status - No Mocking should return 401 with invalid token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391032115,"status":"passed","title":"should return 401 with invalid token"},{"ancestorTitles":["GET /api/group/status - No Mocking"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/group/status - No Mocking should return group status with restaurant selected","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391032119,"status":"passed","title":"should return group status with restaurant selected"},{"ancestorTitles":["GET /api/group/status - No Mocking"],"duration":26,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/group/status - No Mocking should return 500 when group is deleted between getGroupByUserId and getGroupStatus (covers groupService line 15)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391032144,"status":"passed","title":"should return 500 when group is deleted between getGroupByUserId and getGroupStatus (covers groupService line 15)"},{"ancestorTitles":["POST /api/group/leave/:groupId - No Mocking"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - No Mocking should return 200 and successfully leave a group","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"startAt":1764391032170,"status":"passed","title":"should return 200 and successfully leave a group"},{"ancestorTitles":["POST /api/group/leave/:groupId - No Mocking"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - No Mocking should return 500 when group not found in leaveGroup","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391032187,"status":"passed","title":"should return 500 when group not found in leaveGroup"},{"ancestorTitles":["POST /api/group/leave/:groupId - No Mocking"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - No Mocking should return 500 when user not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391032197,"status":"passed","title":"should return 500 when user not found"},{"ancestorTitles":["POST /api/group/leave/:groupId - No Mocking"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - No Mocking should delete group and restaurant data when last member leaves","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391032205,"status":"passed","title":"should delete group and restaurant data when last member leaves"},{"ancestorTitles":["POST /api/group/leave/:groupId - No Mocking"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - No Mocking should preserve restaurant data when member leaves (group not deleted)","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"startAt":1764391032217,"status":"passed","title":"should preserve restaurant data when member leaves (group not deleted)"},{"ancestorTitles":["POST /api/group/leave/:groupId - No Mocking"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - No Mocking should verify restaurant field remains after completionTime if not cleared","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391032233,"status":"passed","title":"should verify restaurant field remains after completionTime if not cleared"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should return 400 when vote is a string instead of boolean","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391032248,"status":"passed","title":"should return 400 when vote is a string instead of boolean"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should return 400 when vote field is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391032262,"status":"passed","title":"should return 400 when vote field is missing"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should return 400 when vote is a number","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391032274,"status":"passed","title":"should return 400 when vote is a number"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should return 500 when group not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391032286,"status":"passed","title":"should return 500 when group not found"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should return 500 when user is not a member of the group","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391032300,"status":"passed","title":"should return 500 when user is not a member of the group"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should return 500 when restaurant already selected","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391032320,"status":"passed","title":"should return 500 when restaurant already selected"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should return 500 when no active voting round","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391032330,"status":"passed","title":"should return 500 when no active voting round"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should successfully submit yes vote and emit socket events","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391032339,"status":"passed","title":"should successfully submit yes vote and emit socket events"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":18,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should successfully submit no vote","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391032360,"status":"passed","title":"should successfully submit no vote"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":29,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should allow user to change their vote from yes to no","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391032378,"status":"passed","title":"should allow user to change their vote from yes to no"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":33,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should allow user to change their vote from no to yes","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391032407,"status":"passed","title":"should allow user to change their vote from no to yes"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should detect majority yes and select restaurant (2 member group)","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1764391032440,"status":"passed","title":"should detect majority yes and select restaurant (2 member group)"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":105,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should detect majority no and move to next restaurant","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"startAt":1764391032465,"status":"passed","title":"should detect majority no and move to next restaurant"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should require unanimous agreement for 2-member group","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391032570,"status":"passed","title":"should require unanimous agreement for 2-member group"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting (No Mocking)"],"duration":33,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting (No Mocking) should use 50%+1 majority for 3-member groups","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391032590,"status":"passed","title":"should use 50%+1 majority for 3-member groups"},{"ancestorTitles":["Sequential Voting Routes - No Mocking (/api/groups)"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Sequential Voting Routes - No Mocking (/api/groups) should initialize sequential voting and return first restaurant","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"startAt":1764391032623,"status":"passed","title":"should initialize sequential voting and return first restaurant"},{"ancestorTitles":["Sequential Voting Routes - No Mocking (/api/groups)"],"duration":19,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Sequential Voting Routes - No Mocking (/api/groups) should submit sequential vote via /api/groups/:groupId/voting/vote","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391032639,"status":"passed","title":"should submit sequential vote via /api/groups/:groupId/voting/vote"},{"ancestorTitles":["Sequential Voting Routes - No Mocking (/api/groups)"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Sequential Voting Routes - No Mocking (/api/groups) should get current sequential voting round status","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1764391032658,"status":"passed","title":"should get current sequential voting round status"},{"ancestorTitles":["POST /api/group/initialize-voting/:groupId - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/initialize-voting/:groupId - No Mocking should return 404 when endpoint not implemented","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391032675,"status":"passed","title":"should return 404 when endpoint not implemented"},{"ancestorTitles":["GET /api/group/voting/:groupId - No Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/group/voting/:groupId - No Mocking should return 404 when endpoint not implemented","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391032677,"status":"passed","title":"should return 404 when endpoint not implemented"},{"ancestorTitles":["Group Model Virtual Properties and toJSON Transform - API Tests"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model Virtual Properties and toJSON Transform - API Tests should access groupId virtual property through GET /api/group/status response","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391032680,"status":"passed","title":"should access groupId virtual property through GET /api/group/status response"},{"ancestorTitles":["Group Model Virtual Properties and toJSON Transform - API Tests"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model Virtual Properties and toJSON Transform - API Tests should use toJSON transform to include groupId and exclude _id and __v in GET /api/group/status","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391032691,"status":"passed","title":"should use toJSON transform to include groupId and exclude _id and __v in GET /api/group/status"},{"ancestorTitles":["Group Model Virtual Properties and toJSON Transform - API Tests"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model Virtual Properties and toJSON Transform - API Tests should access groupId virtual property when group has restaurant selected","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391032702,"status":"passed","title":"should access groupId virtual property when group has restaurant selected"},{"ancestorTitles":["Group Model Virtual Properties and toJSON Transform - API Tests"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model Virtual Properties and toJSON Transform - API Tests should verify groupId virtual matches _id.toString() when accessing directly from model","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391032715,"status":"passed","title":"should verify groupId virtual matches _id.toString() when accessing directly from model"},{"ancestorTitles":["Group Model Virtual Properties and toJSON Transform - API Tests"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model Virtual Properties and toJSON Transform - API Tests should verify toJSON transform works when calling toJSON() directly","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391032719,"status":"passed","title":"should verify toJSON transform works when calling toJSON() directly"},{"ancestorTitles":["Group Model Virtual Properties and toJSON Transform - API Tests"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model Virtual Properties and toJSON Transform - API Tests should verify toObject includes virtuals but preserves _id","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391032724,"status":"passed","title":"should verify toObject includes virtuals but preserves _id"}],"endTime":1764391032772,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/no-mocks/group.test.ts","startTime":1764391031277,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GET /api/user/profile/:ids - No Mocking"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/profile/:ids - No Mocking should return 200 and user profiles for valid IDs","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391033530,"status":"passed","title":"should return 200 and user profiles for valid IDs"},{"ancestorTitles":["GET /api/user/profile/:ids - No Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/profile/:ids - No Mocking should return 200 with empty array for non-existent IDs","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391033537,"status":"passed","title":"should return 200 with empty array for non-existent IDs"},{"ancestorTitles":["GET /api/user/profile/:ids - No Mocking"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/profile/:ids - No Mocking should handle single and multiple IDs correctly","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391033540,"status":"passed","title":"should handle single and multiple IDs correctly"},{"ancestorTitles":["GET /api/user/profile/:ids - No Mocking"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/profile/:ids - No Mocking should return 400 for invalid MongoDB ObjectId format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391033544,"status":"passed","title":"should return 400 for invalid MongoDB ObjectId format"},{"ancestorTitles":["GET /api/user/settings - No Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/settings - No Mocking should return 200 and user settings with valid authentication","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391033554,"status":"passed","title":"should return 200 and user settings with valid authentication"},{"ancestorTitles":["GET /api/user/settings - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/settings - No Mocking should return 401 without authentication token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391033559,"status":"passed","title":"should return 401 without authentication token"},{"ancestorTitles":["GET /api/user/settings - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/settings - No Mocking should return 401 with invalid token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391033561,"status":"passed","title":"should return 401 with invalid token"},{"ancestorTitles":["GET /api/user/settings - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/settings - No Mocking should return 401 with expired token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391033562,"status":"passed","title":"should return 401 with expired token"},{"ancestorTitles":["GET /api/user/settings - No Mocking"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/settings - No Mocking should return 500 when user not found in database","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391033563,"status":"passed","title":"should return 500 when user not found in database"},{"ancestorTitles":["POST /api/user/profile - No Mocking"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/profile - No Mocking should create/update profile with valid data","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391033569,"status":"passed","title":"should create/update profile with valid data"},{"ancestorTitles":["POST /api/user/profile - No Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/profile - No Mocking should update profilePicture directly in createUserProfile (covers userService line 101)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391033576,"status":"passed","title":"should update profilePicture directly in createUserProfile (covers userService line 101)"},{"ancestorTitles":["POST /api/user/profile - No Mocking"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/profile - No Mocking should handle partial updates correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391033581,"status":"passed","title":"should handle partial updates correctly"},{"ancestorTitles":["POST /api/user/profile - No Mocking"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/profile - No Mocking should handle empty body","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391033585,"status":"passed","title":"should handle empty body"},{"ancestorTitles":["POST /api/user/settings - No Mocking"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/settings - No Mocking should update settings with full data","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391033592,"status":"passed","title":"should update settings with full data"},{"ancestorTitles":["POST /api/user/settings - No Mocking"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/settings - No Mocking should update settings with partial data","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391033600,"status":"passed","title":"should update settings with partial data"},{"ancestorTitles":["POST /api/user/settings - No Mocking"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/settings - No Mocking should update contactNumber, budget, and radiusKm in updateUserSettings (covers userService lines 149-151)","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1764391033607,"status":"passed","title":"should update contactNumber, budget, and radiusKm in updateUserSettings (covers userService lines 149-151)"},{"ancestorTitles":["POST /api/user/settings - No Mocking"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/settings - No Mocking should successfully convert Google profile picture to Base64 in updateUserSettings (covers userService lines 22-29)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391033619,"status":"passed","title":"should successfully convert Google profile picture to Base64 in updateUserSettings (covers userService lines 22-29)"},{"ancestorTitles":["POST /api/user/settings - No Mocking"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/settings - No Mocking should use image/png fallback when content-type header is missing (covers userService line 24)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391033628,"status":"passed","title":"should use image/png fallback when content-type header is missing (covers userService line 24)"},{"ancestorTitles":["PUT /api/user/profile - No Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PUT /api/user/profile - No Mocking should update profile with full data","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391033637,"status":"passed","title":"should update profile with full data"},{"ancestorTitles":["PUT /api/user/profile - No Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PUT /api/user/profile - No Mocking should update profile with partial data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391033642,"status":"passed","title":"should update profile with partial data"},{"ancestorTitles":["PUT /api/user/profile - No Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PUT /api/user/profile - No Mocking should update contactNumber, budget, and radiusKm in updateUserProfile (covers userService lines 188-190)","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391033648,"status":"passed","title":"should update contactNumber, budget, and radiusKm in updateUserProfile (covers userService lines 188-190)"},{"ancestorTitles":["PUT /api/user/profile - No Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PUT /api/user/profile - No Mocking should successfully convert Google profile picture to Base64 (covers userService lines 22-29)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391033653,"status":"passed","title":"should successfully convert Google profile picture to Base64 (covers userService lines 22-29)"},{"ancestorTitles":["PUT /api/user/profile - No Mocking"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PUT /api/user/profile - No Mocking should handle non-Google profile picture URL (covers convertGoogleProfilePictureToBase64 early return)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391033658,"status":"passed","title":"should handle non-Google profile picture URL (covers convertGoogleProfilePictureToBase64 early return)"},{"ancestorTitles":["DELETE /api/user/:userId - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/user/:userId - No Mocking should return 403 when trying to delete different user","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391033662,"status":"passed","title":"should return 403 when trying to delete different user"},{"ancestorTitles":["DELETE /api/user/:userId - No Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/user/:userId - No Mocking should return 500 when user is in a waiting room","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391033664,"status":"passed","title":"should return 500 when user is in a waiting room"},{"ancestorTitles":["DELETE /api/user/:userId - No Mocking"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/user/:userId - No Mocking should return 500 when user is in a group","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391033667,"status":"passed","title":"should return 500 when user is in a group"},{"ancestorTitles":["DELETE /api/user/:userId - No Mocking"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/user/:userId - No Mocking should successfully delete user not in room or group","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391033673,"status":"passed","title":"should successfully delete user not in room or group"},{"ancestorTitles":["DELETE /api/user/:userId - No Mocking"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/user/:userId - No Mocking should return 500 when trying to delete non-existent user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391033686,"status":"passed","title":"should return 500 when trying to delete non-existent user"},{"ancestorTitles":["User Model Virtual Properties - API Tests"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Model Virtual Properties - API Tests should access userId virtual property through API response","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391033690,"status":"passed","title":"should access userId virtual property through API response"},{"ancestorTitles":["User Model Virtual Properties - API Tests"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Model Virtual Properties - API Tests should use toJSON transform to include userId and exclude _id and __v","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391033692,"status":"passed","title":"should use toJSON transform to include userId and exclude _id and __v"}],"endTime":1764391033715,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/no-mocks/user.test.ts","startTime":1764391032776,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Group Model - Unit Tests","Virtual Properties"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests Virtual Properties groupId virtual should return _id.toString()","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391034423,"status":"passed","title":"groupId virtual should return _id.toString()"},{"ancestorTitles":["Group Model - Unit Tests","Virtual Properties"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests Virtual Properties groupId virtual should work on fresh document from database","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034433,"status":"passed","title":"groupId virtual should work on fresh document from database"},{"ancestorTitles":["Group Model - Unit Tests","toJSON Transform"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests toJSON Transform toJSON should include groupId and exclude _id and __v","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391034437,"status":"passed","title":"toJSON should include groupId and exclude _id and __v"},{"ancestorTitles":["Group Model - Unit Tests","toJSON Transform"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests toJSON Transform toJSON should preserve all other fields","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"startAt":1764391034443,"status":"passed","title":"toJSON should preserve all other fields"},{"ancestorTitles":["Group Model - Unit Tests","toJSON Transform"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests toJSON Transform toJSON should work with sequential voting fields","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"startAt":1764391034447,"status":"passed","title":"toJSON should work with sequential voting fields"},{"ancestorTitles":["Group Model - Unit Tests","getBestRestaurantFromHistory()"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests getBestRestaurantFromHistory() should return first restaurant from pool when votingHistoryDetailed is empty","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034451,"status":"passed","title":"should return first restaurant from pool when votingHistoryDetailed is empty"},{"ancestorTitles":["Group Model - Unit Tests","getBestRestaurantFromHistory()"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests getBestRestaurantFromHistory() should return null when both votingHistoryDetailed and restaurantPool are empty","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391034453,"status":"passed","title":"should return null when both votingHistoryDetailed and restaurantPool are empty"},{"ancestorTitles":["Group Model - Unit Tests","getBestRestaurantFromHistory()"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests getBestRestaurantFromHistory() should return restaurant with most yes votes from votingHistoryDetailed","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034455,"status":"passed","title":"should return restaurant with most yes votes from votingHistoryDetailed"},{"ancestorTitles":["Group Model - Unit Tests","getBestRestaurantFromHistory()"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests getBestRestaurantFromHistory() should return first restaurant from pool when all entries have 0 yes votes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034458,"status":"passed","title":"should return first restaurant from pool when all entries have 0 yes votes"},{"ancestorTitles":["Group Model - Unit Tests","getBestRestaurantFromHistory()"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests getBestRestaurantFromHistory() should handle tie by returning first restaurant with max yes votes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034462,"status":"passed","title":"should handle tie by returning first restaurant with max yes votes"},{"ancestorTitles":["Group Model - Unit Tests","getBestRestaurantFromHistory()"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests getBestRestaurantFromHistory() should work correctly after saving and reloading from database","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391034465,"status":"passed","title":"should work correctly after saving and reloading from database"},{"ancestorTitles":["Group Model - Unit Tests","removeMember() - Sequential Voting Mode"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests removeMember() - Sequential Voting Mode should remove member and delete their vote from currentRound in sequential mode","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"startAt":1764391034473,"status":"passed","title":"should remove member and delete their vote from currentRound in sequential mode"},{"ancestorTitles":["Group Model - Unit Tests","removeMember() - Sequential Voting Mode"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests removeMember() - Sequential Voting Mode should recalculate vote counts correctly when removing member with yes vote","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1764391034482,"status":"passed","title":"should recalculate vote counts correctly when removing member with yes vote"},{"ancestorTitles":["Group Model - Unit Tests","removeMember() - Sequential Voting Mode"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests removeMember() - Sequential Voting Mode should recalculate vote counts correctly when removing member with no vote","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1764391034486,"status":"passed","title":"should recalculate vote counts correctly when removing member with no vote"},{"ancestorTitles":["Group Model - Unit Tests","removeMember() - Sequential Voting Mode"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests removeMember() - Sequential Voting Mode should handle removing member who has not voted yet in sequential mode","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"startAt":1764391034496,"status":"passed","title":"should handle removing member who has not voted yet in sequential mode"},{"ancestorTitles":["Group Model - Unit Tests","removeMember() - Sequential Voting Mode"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests removeMember() - Sequential Voting Mode should not modify currentRound when removing member in list mode","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391034499,"status":"passed","title":"should not modify currentRound when removing member in list mode"},{"ancestorTitles":["Group Model - Unit Tests","removeMember() - Sequential Voting Mode"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests removeMember() - Sequential Voting Mode should handle removing member when currentRound is null in sequential mode","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391034503,"status":"passed","title":"should handle removing member when currentRound is null in sequential mode"},{"ancestorTitles":["Group Model - Unit Tests","removeMember() - Sequential Voting Mode"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests removeMember() - Sequential Voting Mode should recalculate vote counts correctly with mixed yes/no votes","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"startAt":1764391034506,"status":"passed","title":"should recalculate vote counts correctly with mixed yes/no votes"},{"ancestorTitles":["Group Model - Unit Tests","addVote() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests addVote() - Legacy Voting should add vote for user when no previous vote exists","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391034509,"status":"passed","title":"should add vote for user when no previous vote exists"},{"ancestorTitles":["Group Model - Unit Tests","addVote() - Legacy Voting"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests addVote() - Legacy Voting should decrement previous restaurant vote count when user changes vote","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391034511,"status":"passed","title":"should decrement previous restaurant vote count when user changes vote"},{"ancestorTitles":["Group Model - Unit Tests","addVote() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests addVote() - Legacy Voting should handle Math.max(0, prevCount - 1) to prevent negative counts","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391034514,"status":"passed","title":"should handle Math.max(0, prevCount - 1) to prevent negative counts"},{"ancestorTitles":["Group Model - Unit Tests","addVote() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests addVote() - Legacy Voting should handle multiple vote changes correctly","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"startAt":1764391034516,"status":"passed","title":"should handle multiple vote changes correctly"},{"ancestorTitles":["Group Model - Unit Tests","addVote() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests addVote() - Legacy Voting should increment new restaurant vote count correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034518,"status":"passed","title":"should increment new restaurant vote count correctly"},{"ancestorTitles":["Group Model - Unit Tests","addVote() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests addVote() - Legacy Voting should handle previousVote being undefined or null","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034520,"status":"passed","title":"should handle previousVote being undefined or null"},{"ancestorTitles":["Group Model - Unit Tests","addVote() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests addVote() - Legacy Voting should handle previous restaurant not in restaurantVotes map","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034522,"status":"passed","title":"should handle previous restaurant not in restaurantVotes map"},{"ancestorTitles":["Group Model - Unit Tests","addVote() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests addVote() - Legacy Voting should execute exact code path: previousVote exists, || 0 fallback, Math.max(0, prevCount - 1)","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"startAt":1764391034524,"status":"passed","title":"should execute exact code path: previousVote exists, || 0 fallback, Math.max(0, prevCount - 1)"},{"ancestorTitles":["Group Model - Unit Tests","addVote() - Legacy Voting"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests addVote() - Legacy Voting should use || 0 fallback when adding vote for restaurant not in restaurantVotes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034527,"status":"passed","title":"should use || 0 fallback when adding vote for restaurant not in restaurantVotes"},{"ancestorTitles":["Group Model - Unit Tests","addVote() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests addVote() - Legacy Voting should use || 0 fallback when removing vote for restaurant not in restaurantVotes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034530,"status":"passed","title":"should use || 0 fallback when removing vote for restaurant not in restaurantVotes"},{"ancestorTitles":["Group Model - Unit Tests","submitVote() - Sequential Voting Error Paths"],"duration":19,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests submitVote() - Sequential Voting Error Paths should throw error when no active voting round","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391034532,"status":"passed","title":"should throw error when no active voting round"},{"ancestorTitles":["Group Model - Unit Tests","submitVote() - Sequential Voting Error Paths"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests submitVote() - Sequential Voting Error Paths should throw error when user is not a member","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391034551,"status":"passed","title":"should throw error when user is not a member"},{"ancestorTitles":["Group Model - Unit Tests","submitVote() - Sequential Voting Error Paths"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests submitVote() - Sequential Voting Error Paths should decrement yesVotes when previousVote was true (yes)","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391034554,"status":"passed","title":"should decrement yesVotes when previousVote was true (yes)"},{"ancestorTitles":["Group Model - Unit Tests","submitVote() - Sequential Voting Error Paths"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests submitVote() - Sequential Voting Error Paths should decrement noVotes when previousVote was false (no)","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391034559,"status":"passed","title":"should decrement noVotes when previousVote was false (no)"},{"ancestorTitles":["Group Model - Unit Tests","submitVote() - Sequential Voting Error Paths"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests submitVote() - Sequential Voting Error Paths should increment noVotes when vote is false","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391034562,"status":"passed","title":"should increment noVotes when vote is false"},{"ancestorTitles":["Group Model - Unit Tests","checkMajority() - Sequential Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests checkMajority() - Sequential Voting should return early when no currentRound exists","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391034564,"status":"passed","title":"should return early when no currentRound exists"},{"ancestorTitles":["Group Model - Unit Tests","checkMajority() - Sequential Voting"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests checkMajority() - Sequential Voting should calculate majorityThreshold using Math.floor(totalMembers / 2) + 1 for groups with 3+ members","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"startAt":1764391034566,"status":"passed","title":"should calculate majorityThreshold using Math.floor(totalMembers / 2) + 1 for groups with 3+ members"},{"ancestorTitles":["Group Model - Unit Tests","checkMajority() - Sequential Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests checkMajority() - Sequential Voting should return hasMajority: true with result: yes when yesVotes >= majorityThreshold","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391034574,"status":"passed","title":"should return hasMajority: true with result: yes when yesVotes >= majorityThreshold"},{"ancestorTitles":["Group Model - Unit Tests","checkMajority() - Sequential Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests checkMajority() - Sequential Voting should return hasMajority: true with result: no when noVotes >= majorityThreshold","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391034577,"status":"passed","title":"should return hasMajority: true with result: no when noVotes >= majorityThreshold"},{"ancestorTitles":["Group Model - Unit Tests","startVotingRound() - Sequential Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests startVotingRound() - Sequential Voting should initialize currentRound with all required fields","invocations":1,"location":null,"numPassingAsserts":15,"retryReasons":[],"startAt":1764391034579,"status":"passed","title":"should initialize currentRound with all required fields"},{"ancestorTitles":["Group Model - Unit Tests","startVotingRound() - Sequential Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests startVotingRound() - Sequential Voting should use empty string for restaurantId when restaurantId is undefined","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391034581,"status":"passed","title":"should use empty string for restaurantId when restaurantId is undefined"},{"ancestorTitles":["Group Model - Unit Tests","startVotingRound() - Sequential Voting"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests startVotingRound() - Sequential Voting should push restaurantId to votingHistory","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391034583,"status":"passed","title":"should push restaurantId to votingHistory"},{"ancestorTitles":["Group Model - Unit Tests","startVotingRound() - Sequential Voting"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests startVotingRound() - Sequential Voting should push empty string to votingHistory when restaurantId is undefined","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391034584,"status":"passed","title":"should push empty string to votingHistory when restaurantId is undefined"},{"ancestorTitles":["Group Model - Unit Tests","startVotingRound() - Sequential Voting"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests startVotingRound() - Sequential Voting should calculate expiresAt based on votingTimeoutSeconds","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391034585,"status":"passed","title":"should calculate expiresAt based on votingTimeoutSeconds"},{"ancestorTitles":["Group Model - Unit Tests","startVotingRound() - Sequential Voting"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests startVotingRound() - Sequential Voting should reset vote counts when starting new round","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034586,"status":"passed","title":"should reset vote counts when starting new round"},{"ancestorTitles":["Group Model - Unit Tests","endCurrentRound() - Sequential Voting"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests endCurrentRound() - Sequential Voting should set currentRound.status to expired when currentRound exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391034587,"status":"passed","title":"should set currentRound.status to expired when currentRound exists"},{"ancestorTitles":["Group Model - Unit Tests","endCurrentRound() - Sequential Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests endCurrentRound() - Sequential Voting should handle endCurrentRound when currentRound is undefined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391034590,"status":"passed","title":"should handle endCurrentRound when currentRound is undefined"},{"ancestorTitles":["Group Model - Unit Tests","getWinningRestaurant() - Legacy Voting"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests getWinningRestaurant() - Legacy Voting should return restaurant with most votes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034592,"status":"passed","title":"should return restaurant with most votes"},{"ancestorTitles":["Group Model - Unit Tests","getWinningRestaurant() - Legacy Voting"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests getWinningRestaurant() - Legacy Voting should return null when no votes exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391034593,"status":"passed","title":"should return null when no votes exist"},{"ancestorTitles":["Group Model - Unit Tests","getWinningRestaurant() - Legacy Voting"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests getWinningRestaurant() - Legacy Voting should handle tie by returning first restaurant with max votes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034598,"status":"passed","title":"should handle tie by returning first restaurant with max votes"},{"ancestorTitles":["Group Model - Unit Tests","getWinningRestaurant() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests getWinningRestaurant() - Legacy Voting should return restaurant with highest votes when multiple exist","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034599,"status":"passed","title":"should return restaurant with highest votes when multiple exist"},{"ancestorTitles":["Group Model - Unit Tests","getWinningRestaurant() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests getWinningRestaurant() - Legacy Voting should handle vote changes correctly","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391034601,"status":"passed","title":"should handle vote changes correctly"},{"ancestorTitles":["Group Model - Unit Tests","hasAllVoted() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests hasAllVoted() - Legacy Voting should return true when all members have voted","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034603,"status":"passed","title":"should return true when all members have voted"},{"ancestorTitles":["Group Model - Unit Tests","hasAllVoted() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests hasAllVoted() - Legacy Voting should return false when not all members have voted","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034606,"status":"passed","title":"should return false when not all members have voted"},{"ancestorTitles":["Group Model - Unit Tests","hasAllVoted() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests hasAllVoted() - Legacy Voting should return false when no members have voted","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034608,"status":"passed","title":"should return false when no members have voted"},{"ancestorTitles":["Group Model - Unit Tests","hasAllVoted() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests hasAllVoted() - Legacy Voting should return true when single member has voted in single-member group","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034610,"status":"passed","title":"should return true when single member has voted in single-member group"},{"ancestorTitles":["Group Model - Unit Tests","hasAllVoted() - Legacy Voting"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests hasAllVoted() - Legacy Voting should return false when member changes vote (still counts as voted)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034612,"status":"passed","title":"should return false when member changes vote (still counts as voted)"},{"ancestorTitles":["Group Model - Unit Tests","hasAllVoted() - Legacy Voting"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests hasAllVoted() - Legacy Voting should return false when member is removed after voting","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391034615,"status":"passed","title":"should return false when member is removed after voting"},{"ancestorTitles":["Group Model - Unit Tests","hasAllVoted() - Legacy Voting"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests hasAllVoted() - Legacy Voting should handle empty members array","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034617,"status":"passed","title":"should handle empty members array"},{"ancestorTitles":["Group Model - Unit Tests","toObject with virtuals"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Model - Unit Tests toObject with virtuals toObject should include virtuals but preserve _id","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391034619,"status":"passed","title":"toObject should include virtuals but preserve _id"}],"endTime":1764391034629,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/units/group.unit.test.ts","startTime":1764391033719,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GET /api/credibility/code - No Mocking"],"duration":22,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/credibility/code - No Mocking should return 200 and generate code for user in group","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391035321,"status":"passed","title":"should return 200 and generate code for user in group"},{"ancestorTitles":["GET /api/credibility/code - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/credibility/code - No Mocking should return 401 without authentication token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391035343,"status":"passed","title":"should return 401 without authentication token"},{"ancestorTitles":["GET /api/credibility/code - No Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/credibility/code - No Mocking should return 400 when user is not in a group","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391035344,"status":"passed","title":"should return 400 when user is not in a group"},{"ancestorTitles":["GET /api/credibility/code - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/credibility/code - No Mocking should return 404 when user not found in database","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391035349,"status":"passed","title":"should return 404 when user not found in database"},{"ancestorTitles":["GET /api/credibility/code - No Mocking"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/credibility/code - No Mocking should return existing code if user already has active code","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391035351,"status":"passed","title":"should return existing code if user already has active code"},{"ancestorTitles":["POST /api/credibility/verify - No Mocking"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/verify - No Mocking should return 200 and verify code successfully","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391035357,"status":"passed","title":"should return 200 and verify code successfully"},{"ancestorTitles":["POST /api/credibility/verify - No Mocking"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/verify - No Mocking should return 401 without authentication token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391035374,"status":"passed","title":"should return 401 without authentication token"},{"ancestorTitles":["POST /api/credibility/verify - No Mocking"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/verify - No Mocking should return 400 when code is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391035381,"status":"passed","title":"should return 400 when code is missing"},{"ancestorTitles":["POST /api/credibility/verify - No Mocking"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/verify - No Mocking should return 400 for invalid code","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391035387,"status":"passed","title":"should return 400 for invalid code"},{"ancestorTitles":["POST /api/credibility/verify - No Mocking"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/verify - No Mocking should return 400 when trying to verify own code","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391035397,"status":"passed","title":"should return 400 when trying to verify own code"},{"ancestorTitles":["POST /api/credibility/verify - No Mocking"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/verify - No Mocking should return 400 when code already verified by same user","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391035404,"status":"passed","title":"should return 400 when code already verified by same user"},{"ancestorTitles":["POST /api/credibility/deduct - No Mocking"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - No Mocking should return 200 and deduct score when leaving without verification","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391035416,"status":"passed","title":"should return 200 and deduct score when leaving without verification"},{"ancestorTitles":["POST /api/credibility/deduct - No Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - No Mocking should return 401 without authentication token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391035426,"status":"passed","title":"should return 401 without authentication token"},{"ancestorTitles":["POST /api/credibility/deduct - No Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - No Mocking should return 404 when user not found","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391035429,"status":"passed","title":"should return 404 when user not found"},{"ancestorTitles":["POST /api/credibility/deduct - No Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - No Mocking should return 400 when user is not in a group","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391035434,"status":"passed","title":"should return 400 when user is not in a group"},{"ancestorTitles":["POST /api/credibility/deduct - No Mocking"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - No Mocking should return 200 with no penalty when code was verified","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1764391035439,"status":"passed","title":"should return 200 with no penalty when code was verified"},{"ancestorTitles":["POST /api/credibility/deduct - No Mocking"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - No Mocking should return 200 with no penalty when user verified someone else","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391035454,"status":"passed","title":"should return 200 with no penalty when user verified someone else"},{"ancestorTitles":["POST /api/credibility/deduct - No Mocking"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - No Mocking should clamp score to 0 when deduction would make it negative","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391035471,"status":"passed","title":"should clamp score to 0 when deduction would make it negative"}],"endTime":1764391035486,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/no-mocks/credibility.test.ts","startTime":1764391034633,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GET /api/user/profile/:ids - With Mocking"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/profile/:ids - With Mocking should return 500 when database query fails","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391036285,"status":"passed","title":"should return 500 when database query fails"},{"ancestorTitles":["GET /api/user/profile/:ids - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/profile/:ids - With Mocking should return 400 when invalid ObjectId causes CastError","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391036293,"status":"passed","title":"should return 400 when invalid ObjectId causes CastError"},{"ancestorTitles":["GET /api/user/profile/:ids - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/profile/:ids - With Mocking should handle database timeout gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036296,"status":"passed","title":"should handle database timeout gracefully"},{"ancestorTitles":["GET /api/user/profile/:ids - With Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/profile/:ids - With Mocking should return empty array when User.find returns empty","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036299,"status":"passed","title":"should return empty array when User.find returns empty"},{"ancestorTitles":["GET /api/user/settings - With Mocking"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/settings - With Mocking should return 500 when user not found in database","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391036300,"status":"passed","title":"should return 500 when user not found in database"},{"ancestorTitles":["GET /api/user/settings - With Mocking"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/settings - With Mocking should return 500 when database connection fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036312,"status":"passed","title":"should return 500 when database connection fails"},{"ancestorTitles":["GET /api/user/settings - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/user/settings - With Mocking should return 400 when invalid ObjectId format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036316,"status":"passed","title":"should return 400 when invalid ObjectId format"},{"ancestorTitles":["POST /api/user/profile - With Mocking"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/profile - With Mocking should return 500 when user not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036319,"status":"passed","title":"should return 500 when user not found"},{"ancestorTitles":["POST /api/user/profile - With Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/profile - With Mocking should return 500 when database save operation fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036323,"status":"passed","title":"should return 500 when database save operation fails"},{"ancestorTitles":["POST /api/user/profile - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/profile - With Mocking should return 400 when Mongoose validation fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036325,"status":"passed","title":"should return 400 when Mongoose validation fails"},{"ancestorTitles":["POST /api/user/settings - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/settings - With Mocking should return 500 when user not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036328,"status":"passed","title":"should return 500 when user not found"},{"ancestorTitles":["POST /api/user/settings - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/settings - With Mocking should return 500 when database update fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036332,"status":"passed","title":"should return 500 when database update fails"},{"ancestorTitles":["POST /api/user/settings - With Mocking"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/user/settings - With Mocking should handle Google profile picture conversion failure gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391036336,"status":"passed","title":"should handle Google profile picture conversion failure gracefully"},{"ancestorTitles":["PUT /api/user/profile - With Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PUT /api/user/profile - With Mocking should return 500 when user not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036343,"status":"passed","title":"should return 500 when user not found"},{"ancestorTitles":["PUT /api/user/profile - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PUT /api/user/profile - With Mocking should return 500 when database update fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036345,"status":"passed","title":"should return 500 when database update fails"},{"ancestorTitles":["PUT /api/user/profile - With Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PUT /api/user/profile - With Mocking should return 400 on validation error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391036348,"status":"passed","title":"should return 400 on validation error"},{"ancestorTitles":["DELETE /api/user/:userId - With Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/user/:userId - With Mocking should return 500 when user not found","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391036350,"status":"passed","title":"should return 500 when user not found"},{"ancestorTitles":["DELETE /api/user/:userId - With Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/user/:userId - With Mocking should return 500 when user is in a room","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036353,"status":"passed","title":"should return 500 when user is in a room"},{"ancestorTitles":["DELETE /api/user/:userId - With Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/user/:userId - With Mocking should return 500 when user is in a group","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036355,"status":"passed","title":"should return 500 when user is in a group"},{"ancestorTitles":["DELETE /api/user/:userId - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/user/:userId - With Mocking should return 500 when database delete operation fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036356,"status":"passed","title":"should return 500 when database delete operation fails"},{"ancestorTitles":["DELETE /api/user/:userId - With Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/user/:userId - With Mocking should handle database connection loss during deletion","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391036359,"status":"passed","title":"should handle database connection loss during deletion"}],"endTime":1764391036361,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/user.mock.test.ts","startTime":1764391035490,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GET /api/credibility/code - With Mocking"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/credibility/code - With Mocking should return 500 when database query fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037316,"status":"passed","title":"should return 500 when database query fails"},{"ancestorTitles":["GET /api/credibility/code - With Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/credibility/code - With Mocking should return 404 when user not found","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391037326,"status":"passed","title":"should return 404 when user not found"},{"ancestorTitles":["GET /api/credibility/code - With Mocking"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/credibility/code - With Mocking should return 500 when CredibilityCode.findActiveCode fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037328,"status":"passed","title":"should return 500 when CredibilityCode.findActiveCode fails"},{"ancestorTitles":["GET /api/credibility/code - With Mocking"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/credibility/code - With Mocking should return 500 when CredibilityCode.generateCode fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037337,"status":"passed","title":"should return 500 when CredibilityCode.generateCode fails"},{"ancestorTitles":["GET /api/credibility/code - With Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/credibility/code - With Mocking should return 500 when code generation fails after max attempts (10 collisions)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037341,"status":"passed","title":"should return 500 when code generation fails after max attempts (10 collisions)"},{"ancestorTitles":["POST /api/credibility/verify - With Mocking"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/verify - With Mocking should return 500 when CredibilityCode.findByCode fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037343,"status":"passed","title":"should return 500 when CredibilityCode.findByCode fails"},{"ancestorTitles":["POST /api/credibility/verify - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/verify - With Mocking should return 500 when code.verify() fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037348,"status":"passed","title":"should return 500 when code.verify() fails"},{"ancestorTitles":["POST /api/credibility/verify - With Mocking"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/verify - With Mocking should return 500 when credibilityService.updateCredibilityScore fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037351,"status":"passed","title":"should return 500 when credibilityService.updateCredibilityScore fails"},{"ancestorTitles":["POST /api/credibility/deduct - With Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - With Mocking should return 500 when user not found","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391037355,"status":"passed","title":"should return 500 when user not found"},{"ancestorTitles":["POST /api/credibility/deduct - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - With Mocking should return 500 when CredibilityCode.findActiveCode fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037357,"status":"passed","title":"should return 500 when CredibilityCode.findActiveCode fails"},{"ancestorTitles":["POST /api/credibility/deduct - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - With Mocking should return 500 when CredibilityCode.findOne fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037360,"status":"passed","title":"should return 500 when CredibilityCode.findOne fails"},{"ancestorTitles":["POST /api/credibility/deduct - With Mocking"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - With Mocking should return 500 when credibilityService.updateCredibilityScore fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037364,"status":"passed","title":"should return 500 when credibilityService.updateCredibilityScore fails"},{"ancestorTitles":["POST /api/credibility/deduct - With Mocking"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/credibility/deduct - With Mocking should return 500 when code.deleteOne fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037380,"status":"passed","title":"should return 500 when code.deleteOne fails"}],"endTime":1764391037384,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/credibility.mock.test.ts","startTime":1764391036366,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should return mock data when Google Places API is unavailable","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391037639,"status":"passed","title":"should return mock data when Google Places API is unavailable"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should interleave results from multiple cuisines for balanced variety","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391037644,"status":"passed","title":"should interleave results from multiple cuisines for balanced variety"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should return mock data when network timeout occurs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037646,"status":"passed","title":"should return mock data when network timeout occurs"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should return mock data when DNS resolution fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037648,"status":"passed","title":"should return mock data when DNS resolution fails"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should return 500 when API returns OVER_QUERY_LIMIT","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391037649,"status":"passed","title":"should return 500 when API returns OVER_QUERY_LIMIT"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should return 500 when API returns REQUEST_DENIED","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391037659,"status":"passed","title":"should return 500 when API returns REQUEST_DENIED"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should return 500 when API returns INVALID_REQUEST","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391037661,"status":"passed","title":"should return 500 when API returns INVALID_REQUEST"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should handle malformed response from Google API","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037666,"status":"passed","title":"should handle malformed response from Google API"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should handle network error (ECONNREFUSED)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037667,"status":"passed","title":"should handle network error (ECONNREFUSED)"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should handle SSL/TLS errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037669,"status":"passed","title":"should handle SSL/TLS errors"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should successfully search restaurants with valid API response","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391037670,"status":"passed","title":"should successfully search restaurants with valid API response"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should handle ZERO_RESULTS status gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037671,"status":"passed","title":"should handle ZERO_RESULTS status gracefully"},{"ancestorTitles":["GET /api/restaurant/search - External Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - External Failures should filter results by price level when specified","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391037672,"status":"passed","title":"should filter results by price level when specified"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - External Failures should return mock data when Google Places API unavailable","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391037674,"status":"passed","title":"should return mock data when Google Places API unavailable"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - External Failures should return mock data when network timeout occurs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037675,"status":"passed","title":"should return mock data when network timeout occurs"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - External Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - External Failures should throw 404 when restaurant not found in Google API","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037676,"status":"passed","title":"should throw 404 when restaurant not found in Google API"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - External Failures should successfully get restaurant details with valid API response","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391037678,"status":"passed","title":"should successfully get restaurant details with valid API response"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - External Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - External Failures should keep restaurants without price level when filtering by price","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037679,"status":"passed","title":"should keep restaurants without price level when filtering by price"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - External Failures should include photos when restaurant has photos (covers getPhotoUrl)","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1764391037681,"status":"passed","title":"should include photos when restaurant has photos (covers getPhotoUrl)"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - External Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - External Failures should return 404 when API returns INVALID_REQUEST","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391037682,"status":"passed","title":"should return 404 when API returns INVALID_REQUEST"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - External Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - External Failures should handle non-Error exception in getRestaurantDetails catch block (covers restaurantService line 119)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037684,"status":"passed","title":"should handle non-Error exception in getRestaurantDetails catch block (covers restaurantService line 119)"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - External Failures should handle non-Error exception in searchRestaurants catch block (covers restaurantService line 82)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037686,"status":"passed","title":"should handle non-Error exception in searchRestaurants catch block (covers restaurantService line 82)"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - External Failures should use default radius parameter when not provided (covers restaurantService line 34)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391037687,"status":"passed","title":"should use default radius parameter when not provided (covers restaurantService line 34)"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - External Failures should use fallback values in formatPlaceData when fields are missing (covers restaurantService lines 130-133)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391037688,"status":"passed","title":"should use fallback values in formatPlaceData when fields are missing (covers restaurantService lines 130-133)"},{"ancestorTitles":["POST /api/restaurant/recommendations/:groupId - External Failures"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/restaurant/recommendations/:groupId - External Failures should handle Details API failure gracefully in getRecommendationsForGroup","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391037690,"status":"passed","title":"should handle Details API failure gracefully in getRecommendationsForGroup"},{"ancestorTitles":["POST /api/restaurant/recommendations/:groupId - External Failures"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/restaurant/recommendations/:groupId - External Failures should filter out restaurants without restaurantId in getRecommendationsForGroup","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391037693,"status":"passed","title":"should filter out restaurants without restaurantId in getRecommendationsForGroup"},{"ancestorTitles":["POST /api/restaurant/recommendations/:groupId - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/restaurant/recommendations/:groupId - External Failures should return mock data when Google Places API fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037698,"status":"passed","title":"should return mock data when Google Places API fails"},{"ancestorTitles":["POST /api/restaurant/recommendations/:groupId - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/restaurant/recommendations/:groupId - External Failures should handle network timeout when getting recommendations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037700,"status":"passed","title":"should handle network timeout when getting recommendations"},{"ancestorTitles":["POST /api/restaurant/recommendations/:groupId - External Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/restaurant/recommendations/:groupId - External Failures should aggregate preferences and search successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391037701,"status":"passed","title":"should aggregate preferences and search successfully"},{"ancestorTitles":["Request Validation - Controller Level"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Validation - Controller Level should return 400 when latitude is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037702,"status":"passed","title":"should return 400 when latitude is missing"},{"ancestorTitles":["Request Validation - Controller Level"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Validation - Controller Level should return 400 when longitude is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037704,"status":"passed","title":"should return 400 when longitude is missing"},{"ancestorTitles":["Request Validation - Controller Level"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Validation - Controller Level should return 400 when userPreferences is missing in recommendations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037707,"status":"passed","title":"should return 400 when userPreferences is missing in recommendations"},{"ancestorTitles":["Request Validation - Controller Level"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Validation - Controller Level should return 400 when userPreferences is not an array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037709,"status":"passed","title":"should return 400 when userPreferences is not an array"},{"ancestorTitles":["Controller Catch Block Coverage (next(error))"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Controller Catch Block Coverage (next(error)) should call errorHandler when restaurantService throws","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391037711,"status":"passed","title":"should call errorHandler when restaurantService throws"}],"endTime":1764391037733,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/restaurant.mock.test.ts","startTime":1764391037391,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Notification Service Logic","sendNotificationToUser"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic sendNotificationToUser should successfully send a notification to a user with a token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391038497,"status":"passed","title":"should successfully send a notification to a user with a token"},{"ancestorTitles":["Notification Service Logic","sendNotificationToUser"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic sendNotificationToUser should log a warning and return if the user has no FCM token registered","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391038500,"status":"passed","title":"should log a warning and return if the user has no FCM token registered"},{"ancestorTitles":["Notification Service Logic","sendNotificationToUser"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic sendNotificationToUser should throw an error if the user is not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391038500,"status":"passed","title":"should throw an error if the user is not found"},{"ancestorTitles":["Notification Service Logic","sendNotificationToUsers"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic sendNotificationToUsers should successfully send a multicast notification to all users with tokens","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391038510,"status":"passed","title":"should successfully send a multicast notification to all users with tokens"},{"ancestorTitles":["Notification Service Logic","sendNotificationToUsers"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic sendNotificationToUsers should log a warning and return if no valid FCM tokens are found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391038511,"status":"passed","title":"should log a warning and return if no valid FCM tokens are found"},{"ancestorTitles":["Notification Service Logic","Notification Payload Builders"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic Notification Payload Builders notifyRoomMatched should generate correct payload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391038512,"status":"pending","title":"notifyRoomMatched should generate correct payload"},{"ancestorTitles":["Notification Service Logic","Notification Payload Builders"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic Notification Payload Builders notifyRestaurantSelected should generate correct payload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391038512,"status":"pending","title":"notifyRestaurantSelected should generate correct payload"},{"ancestorTitles":["Notification Service Logic","Notification Payload Builders"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic Notification Payload Builders notifyUserJoinedRoom should generate correct payload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391038512,"status":"pending","title":"notifyUserJoinedRoom should generate correct payload"},{"ancestorTitles":["Notification Service Logic","Notification Payload Builders"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic Notification Payload Builders notifyGroupExpired should generate correct payload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391038512,"status":"pending","title":"notifyGroupExpired should generate correct payload"},{"ancestorTitles":["Notification Service Logic","Notification Payload Builders"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic Notification Payload Builders notifyVotingTimeExpired should generate correct payload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391038512,"status":"pending","title":"notifyVotingTimeExpired should generate correct payload"},{"ancestorTitles":["Notification API Endpoints - No Mocking (Success & 400)","POST /register-token"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - No Mocking (Success & 400) POST /register-token should return 200 on valid registration and call tokenManager","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391038512,"status":"passed","title":"should return 200 on valid registration and call tokenManager"},{"ancestorTitles":["Notification API Endpoints - No Mocking (Success & 400)","POST /register-token"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - No Mocking (Success & 400) POST /register-token should return 400 if userId is missing","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391038523,"status":"passed","title":"should return 400 if userId is missing"},{"ancestorTitles":["Notification API Endpoints - No Mocking (Success & 400)","POST /register-token"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - No Mocking (Success & 400) POST /register-token should return 400 if token is missing","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391038526,"status":"passed","title":"should return 400 if token is missing"},{"ancestorTitles":["Notification API Endpoints - No Mocking (Success & 400)","POST /unregister-token"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - No Mocking (Success & 400) POST /unregister-token should return 200 on valid unregistration and call tokenManager","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391038536,"status":"passed","title":"should return 200 on valid unregistration and call tokenManager"},{"ancestorTitles":["Notification API Endpoints - No Mocking (Success & 400)","POST /unregister-token"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - No Mocking (Success & 400) POST /unregister-token should return 400 if userId is missing","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391038538,"status":"passed","title":"should return 400 if userId is missing"},{"ancestorTitles":["Notification API Endpoints - No Mocking (Success & 400)","POST /test"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - No Mocking (Success & 400) POST /test should return 200 on successful test notification send","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391038540,"status":"pending","title":"should return 200 on successful test notification send"},{"ancestorTitles":["Notification API Endpoints - No Mocking (Success & 400)","POST /test"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - No Mocking (Success & 400) POST /test should return 400 if userId is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391038540,"status":"passed","title":"should return 400 if userId is missing"},{"ancestorTitles":["Notification API Endpoints - No Mocking (Success & 400)","POST /test"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - No Mocking (Success & 400) POST /test should return 400 if body is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391038541,"status":"passed","title":"should return 400 if body is missing"}],"endTime":1764391038543,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/no-mocks/notification.test.ts","startTime":1764391037736,"status":"focused","summary":""},{"assertionResults":[{"ancestorTitles":["Notification Service Logic - Failure Scenarios","sendNotificationToUser Error Cleanup"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic - Failure Scenarios sendNotificationToUser Error Cleanup should handle \"messaging/invalid-registration-token\" error and call removeInvalidToken","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391039297,"status":"passed","title":"should handle \"messaging/invalid-registration-token\" error and call removeInvalidToken"},{"ancestorTitles":["Notification Service Logic - Failure Scenarios","sendNotificationToUser Error Cleanup"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic - Failure Scenarios sendNotificationToUser Error Cleanup should handle \"messaging/registration-token-not-registered\" error (errorInfo code) and call removeInvalidToken","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391039299,"status":"passed","title":"should handle \"messaging/registration-token-not-registered\" error (errorInfo code) and call removeInvalidToken"},{"ancestorTitles":["Notification Service Logic - Failure Scenarios","sendNotificationToUser Error Cleanup"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic - Failure Scenarios sendNotificationToUser Error Cleanup should handle a general FCM push failure (non-token error) and re-throw without cleaning token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391039299,"status":"passed","title":"should handle a general FCM push failure (non-token error) and re-throw without cleaning token"},{"ancestorTitles":["Notification Service Logic - Failure Scenarios","sendNotificationToUsers Error Handling"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification Service Logic - Failure Scenarios sendNotificationToUsers Error Handling should throw and re-throw an error if the DB query for multiple users fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391039303,"status":"passed","title":"should throw and re-throw an error if the DB query for multiple users fails"},{"ancestorTitles":["Notification API Endpoints - With Mocking (500 Failures)","POST /register-token Failure"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - With Mocking (500 Failures) POST /register-token Failure should return 500 if tokenManager.updateUserToken fails","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391039303,"status":"passed","title":"should return 500 if tokenManager.updateUserToken fails"},{"ancestorTitles":["Notification API Endpoints - With Mocking (500 Failures)","POST /unregister-token Failure"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - With Mocking (500 Failures) POST /unregister-token Failure should return 500 if tokenManager.clearUserToken fails","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391039309,"status":"passed","title":"should return 500 if tokenManager.clearUserToken fails"},{"ancestorTitles":["Notification API Endpoints - With Mocking (500 Failures)","POST /test Failure"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notification API Endpoints - With Mocking (500 Failures) POST /test Failure should return 500 if notificationService.sendNotificationToUser fails","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391039311,"status":"passed","title":"should return 500 if notificationService.sendNotificationToUser fails"}],"endTime":1764391039313,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/matching.mock.test.ts","startTime":1764391038548,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GET /api/group/status - External Failures"],"duration":38,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/group/status - External Failures should return 500 when database connection fails during User.findById","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391040121,"status":"passed","title":"should return 500 when database connection fails during User.findById"},{"ancestorTitles":["GET /api/group/status - External Failures"],"duration":54,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/group/status - External Failures should return 500 when database timeout occurs during Group.findById","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391040159,"status":"passed","title":"should return 500 when database timeout occurs during Group.findById"},{"ancestorTitles":["GET /api/group/status - External Failures"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/group/status - External Failures should return 500 when MongoDB server is unavailable","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391040213,"status":"passed","title":"should return 500 when MongoDB server is unavailable"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting Failures"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting Failures should return 500 when Group.findById fails","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391040219,"status":"passed","title":"should return 500 when Group.findById fails"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting Failures"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting Failures should return 500 when group.save() fails after submitVote","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391040220,"status":"passed","title":"should return 500 when group.save() fails after submitVote"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting Failures"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting Failures should handle socket emission failure gracefully (emitSequentialVoteUpdate)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391040220,"status":"passed","title":"should handle socket emission failure gracefully (emitSequentialVoteUpdate)"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting Failures"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting Failures should handle socket emission failure when restaurant selected (emitRestaurantSelected)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391040220,"status":"passed","title":"should handle socket emission failure when restaurant selected (emitRestaurantSelected)"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting Failures"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting Failures should handle notification failure when restaurant selected","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391040220,"status":"passed","title":"should handle notification failure when restaurant selected"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting Failures"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting Failures should handle socket emission failure when moving to next restaurant (emitNewVotingRound)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1764391040220,"status":"passed","title":"should handle socket emission failure when moving to next restaurant (emitNewVotingRound)"},{"ancestorTitles":["POST /api/group/vote/:groupId - Sequential Voting Failures"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/vote/:groupId - Sequential Voting Failures should return 400 when vote is not a boolean for /api/groups/:groupId/voting/vote","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391040220,"status":"passed","title":"should return 400 when vote is not a boolean for /api/groups/:groupId/voting/vote"},{"ancestorTitles":["POST /api/group/leave/:groupId - External Failures"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - External Failures should return 500 when database fails during Group.findById","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391040226,"status":"passed","title":"should return 500 when database fails during Group.findById"},{"ancestorTitles":["POST /api/group/leave/:groupId - External Failures"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - External Failures should return 500 when database fails during User.findById","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391040229,"status":"passed","title":"should return 500 when database fails during User.findById"},{"ancestorTitles":["POST /api/group/leave/:groupId - External Failures"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - External Failures should return 500 when user.save() fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391040236,"status":"passed","title":"should return 500 when user.save() fails"},{"ancestorTitles":["POST /api/group/leave/:groupId - External Failures"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - External Failures should return 500 when Group.findByIdAndDelete fails (empty group)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391040247,"status":"passed","title":"should return 500 when Group.findByIdAndDelete fails (empty group)"},{"ancestorTitles":["POST /api/group/leave/:groupId - External Failures"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - External Failures should return 500 when group.save() fails (non-empty group)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391040256,"status":"passed","title":"should return 500 when group.save() fails (non-empty group)"},{"ancestorTitles":["POST /api/group/leave/:groupId - External Failures"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - External Failures should handle Socket.IO emission failure when member leaves","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391040263,"status":"passed","title":"should handle Socket.IO emission failure when member leaves"},{"ancestorTitles":["POST /api/group/leave/:groupId - External Failures"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/group/leave/:groupId - External Failures should handle Firebase failure when notifying after auto-selection","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391040274,"status":"passed","title":"should handle Firebase failure when notifying after auto-selection"},{"ancestorTitles":["Edge Case: Multiple Simultaneous Failures"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Edge Case: Multiple Simultaneous Failures should handle cascade of failures gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391040285,"status":"passed","title":"should handle cascade of failures gracefully"},{"ancestorTitles":["Network Timeout Scenarios"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Network Timeout Scenarios should handle database query timeout","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391040297,"status":"passed","title":"should handle database query timeout"},{"ancestorTitles":["Network Timeout Scenarios"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Network Timeout Scenarios should handle network partition during write","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391040299,"status":"passed","title":"should handle network partition during write"}],"endTime":1764391040319,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/group.mock.test.ts","startTime":1764391039316,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Error Handler Middleware - All Error Types","AppError - Custom Application Errors"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types AppError - Custom Application Errors should return 400 for custom AppError","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041055,"status":"passed","title":"should return 400 for custom AppError"},{"ancestorTitles":["Error Handler Middleware - All Error Types","AppError - Custom Application Errors"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types AppError - Custom Application Errors should handle AppError with 404 status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041067,"status":"passed","title":"should handle AppError with 404 status"},{"ancestorTitles":["Error Handler Middleware - All Error Types","AppError - Custom Application Errors"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types AppError - Custom Application Errors should handle AppError with 403 status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041070,"status":"passed","title":"should handle AppError with 403 status"},{"ancestorTitles":["Error Handler Middleware - All Error Types","AppError - Custom Application Errors"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types AppError - Custom Application Errors should handle AppError with 409 status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041074,"status":"passed","title":"should handle AppError with 409 status"},{"ancestorTitles":["Error Handler Middleware - All Error Types","AppError - Custom Application Errors"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types AppError - Custom Application Errors should handle AppError with 401 status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041077,"status":"passed","title":"should handle AppError with 401 status"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Mongoose ValidationError"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Mongoose ValidationError should return 400 for Mongoose validation error","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041079,"status":"passed","title":"should return 400 for Mongoose validation error"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Mongoose ValidationError"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Mongoose ValidationError should handle real Mongoose validation error from User model","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041082,"status":"passed","title":"should handle real Mongoose validation error from User model"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Mongoose CastError"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Mongoose CastError should return 400 for Mongoose CastError","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041084,"status":"passed","title":"should return 400 for Mongoose CastError"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Mongoose CastError"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Mongoose CastError should handle CastError from real User.findById with invalid ID","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391041088,"status":"passed","title":"should handle CastError from real User.findById with invalid ID"},{"ancestorTitles":["Error Handler Middleware - All Error Types","MongoDB Duplicate Key Error (11000)"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types MongoDB Duplicate Key Error (11000) should return 409 for MongoDB duplicate key error","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041089,"status":"passed","title":"should return 409 for MongoDB duplicate key error"},{"ancestorTitles":["Error Handler Middleware - All Error Types","MongoDB Duplicate Key Error (11000)"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types MongoDB Duplicate Key Error (11000) should handle real duplicate key error with User model","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041092,"status":"passed","title":"should handle real duplicate key error with User model"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Generic Errors"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Generic Errors should return 500 for generic error","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041098,"status":"passed","title":"should return 500 for generic error"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Generic Errors"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Generic Errors should return 500 with default message for error without message","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041100,"status":"passed","title":"should return 500 with default message for error without message"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Generic Errors"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Generic Errors should return 500 with \"Error\" fallback when error has no name property","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041102,"status":"passed","title":"should return 500 with \"Error\" fallback when error has no name property"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Network and Connection Errors"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Network and Connection Errors should handle network connection errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041104,"status":"passed","title":"should handle network connection errors"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Network and Connection Errors"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Network and Connection Errors should handle MongoDB connection errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391041107,"status":"passed","title":"should handle MongoDB connection errors"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Error Handler Response Format"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Error Handler Response Format should include timestamp in error logs","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391041107,"status":"passed","title":"should include timestamp in error logs"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Error Handler Response Format"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Error Handler Response Format should include request path and method in error logs","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391041112,"status":"passed","title":"should include request path and method in error logs"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Error Handler Response Format"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Error Handler Response Format should include stack trace in development mode","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041113,"status":"passed","title":"should include stack trace in development mode"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Error Handler Response Format"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Error Handler Response Format should NOT include stack trace in production mode","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041116,"status":"passed","title":"should NOT include stack trace in production mode"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Multiple Error Types in Sequence"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Multiple Error Types in Sequence should handle different error types correctly in sequence","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041118,"status":"passed","title":"should handle different error types correctly in sequence"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Edge Cases"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Edge Cases should handle null error gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391041126,"status":"passed","title":"should handle null error gracefully"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Edge Cases"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Edge Cases should handle error with very long message","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041128,"status":"passed","title":"should handle error with very long message"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Edge Cases"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Edge Cases should handle error with special characters in message","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041130,"status":"passed","title":"should handle error with special characters in message"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Edge Cases"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Edge Cases should handle TypeError","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041134,"status":"passed","title":"should handle TypeError"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Edge Cases"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Edge Cases should handle ReferenceError","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041139,"status":"passed","title":"should handle ReferenceError"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Error Handler with Different HTTP Methods"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Error Handler with Different HTTP Methods should handle POST request errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391041141,"status":"passed","title":"should handle POST request errors"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Error Handler with Different HTTP Methods"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Error Handler with Different HTTP Methods should handle PUT request errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391041145,"status":"passed","title":"should handle PUT request errors"},{"ancestorTitles":["Error Handler Middleware - All Error Types","Error Handler with Different HTTP Methods"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Error Handler Middleware - All Error Types Error Handler with Different HTTP Methods should handle DELETE request errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391041149,"status":"passed","title":"should handle DELETE request errors"},{"ancestorTitles":["Controller Error Forwarding - next(error) Coverage"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Controller Error Forwarding - next(error) Coverage should simulate controller calling next(error)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391041154,"status":"passed","title":"should simulate controller calling next(error)"},{"ancestorTitles":["notFoundHandler - 404 Handler"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"notFoundHandler - 404 Handler should create AppError with 404 when route not found","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041157,"status":"passed","title":"should create AppError with 404 when route not found"},{"ancestorTitles":["requireParam - Parameter Validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireParam - Parameter Validation should throw AppError when paramName is empty string (covers errorHandler line 22-23)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041160,"status":"passed","title":"should throw AppError when paramName is empty string (covers errorHandler line 22-23)"},{"ancestorTitles":["requireParam - Parameter Validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireParam - Parameter Validation should throw AppError when paramName is null (covers errorHandler line 22-23)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041161,"status":"passed","title":"should throw AppError when paramName is null (covers errorHandler line 22-23)"},{"ancestorTitles":["requireParam - Parameter Validation"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireParam - Parameter Validation should throw AppError when paramName is not a string (covers errorHandler line 22-23)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041162,"status":"passed","title":"should throw AppError when paramName is not a string (covers errorHandler line 22-23)"},{"ancestorTitles":["requireParam - Parameter Validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireParam - Parameter Validation should throw AppError when paramName is not in ALLOWED_PARAMS whitelist (covers errorHandler line 27-28)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041162,"status":"passed","title":"should throw AppError when paramName is not in ALLOWED_PARAMS whitelist (covers errorHandler line 27-28)"},{"ancestorTitles":["requireParam - Parameter Validation"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireParam - Parameter Validation should throw AppError when paramName is not in req.params (covers errorHandler line 33-34)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041163,"status":"passed","title":"should throw AppError when paramName is not in req.params (covers errorHandler line 33-34)"},{"ancestorTitles":["requireParam - Parameter Validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireParam - Parameter Validation should throw AppError when param value is empty string (covers errorHandler line 39-40)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041163,"status":"passed","title":"should throw AppError when param value is empty string (covers errorHandler line 39-40)"},{"ancestorTitles":["requireParam - Parameter Validation"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireParam - Parameter Validation should throw AppError when param value is null (covers errorHandler line 39-40)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041164,"status":"passed","title":"should throw AppError when param value is null (covers errorHandler line 39-40)"},{"ancestorTitles":["requireParam - Parameter Validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireParam - Parameter Validation should throw AppError when param value is not a string (covers errorHandler line 44-45)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391041166,"status":"passed","title":"should throw AppError when param value is not a string (covers errorHandler line 44-45)"},{"ancestorTitles":["requireParam - Parameter Validation"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireParam - Parameter Validation should return value when all validations pass","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391041167,"status":"passed","title":"should return value when all validations pass"},{"ancestorTitles":["asyncHandler - Async Error Wrapper"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"asyncHandler - Async Error Wrapper should catch errors from async route handlers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041167,"status":"passed","title":"should catch errors from async route handlers"},{"ancestorTitles":["asyncHandler - Async Error Wrapper"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"asyncHandler - Async Error Wrapper should pass through successful async route handlers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041170,"status":"passed","title":"should pass through successful async route handlers"}],"endTime":1764391041172,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/errorHandler.mock.test.ts","startTime":1764391040323,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["POST /api/auth/logout - Database Failures"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/logout - Database Failures should return 500 when User.findById() fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041838,"status":"passed","title":"should return 500 when User.findById() fails"},{"ancestorTitles":["POST /api/auth/logout - Database Failures"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/logout - Database Failures should return 500 when user.save() fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041849,"status":"passed","title":"should return 500 when user.save() fails"},{"ancestorTitles":["POST /api/auth/logout - Database Failures"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/logout - Database Failures should return 500 when database timeout occurs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041857,"status":"passed","title":"should return 500 when database timeout occurs"},{"ancestorTitles":["POST /api/auth/logout - Database Failures"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/logout - Database Failures should return 500 when network partition occurs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041860,"status":"passed","title":"should return 500 when network partition occurs"},{"ancestorTitles":["GET /api/auth/verify - Database Failures"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/auth/verify - Database Failures should return 500 when User.findById() fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041863,"status":"passed","title":"should return 500 when User.findById() fails"},{"ancestorTitles":["GET /api/auth/verify - Database Failures"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/auth/verify - Database Failures should return 500 when database timeout occurs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041866,"status":"passed","title":"should return 500 when database timeout occurs"},{"ancestorTitles":["GET /api/auth/verify - Database Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/auth/verify - Database Failures should return 500 when replica set fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041869,"status":"passed","title":"should return 500 when replica set fails"},{"ancestorTitles":["POST /api/auth/fcm-token - Database Failures"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/fcm-token - Database Failures should return 500 when User.findById() fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041871,"status":"passed","title":"should return 500 when User.findById() fails"},{"ancestorTitles":["POST /api/auth/fcm-token - Database Failures"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/fcm-token - Database Failures should return 500 when user.save() fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041875,"status":"passed","title":"should return 500 when user.save() fails"},{"ancestorTitles":["POST /api/auth/fcm-token - Database Failures"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/fcm-token - Database Failures should return 500 when network partition occurs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041878,"status":"passed","title":"should return 500 when network partition occurs"},{"ancestorTitles":["POST /api/auth/fcm-token - Database Failures"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/auth/fcm-token - Database Failures should return 500 when cursor timeout occurs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041881,"status":"passed","title":"should return 500 when cursor timeout occurs"},{"ancestorTitles":["DELETE /api/auth/account - Database Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/auth/account - Database Failures should return 500 when User.findById() fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041887,"status":"passed","title":"should return 500 when User.findById() fails"},{"ancestorTitles":["DELETE /api/auth/account - Database Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/auth/account - Database Failures should return 500 when User.findByIdAndDelete() fails","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041889,"status":"passed","title":"should return 500 when User.findByIdAndDelete() fails"},{"ancestorTitles":["DELETE /api/auth/account - Database Failures"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/auth/account - Database Failures should return 500 when replica set is unavailable","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041891,"status":"passed","title":"should return 500 when replica set is unavailable"},{"ancestorTitles":["DELETE /api/auth/account - Database Failures"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DELETE /api/auth/account - Database Failures should return 500 when database connection is lost","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041894,"status":"passed","title":"should return 500 when database connection is lost"},{"ancestorTitles":["Network Timeout Scenarios"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Network Timeout Scenarios should handle database query timeout in logout","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041896,"status":"passed","title":"should handle database query timeout in logout"},{"ancestorTitles":["Network Timeout Scenarios"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Network Timeout Scenarios should handle cursor timeout in verify","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041899,"status":"passed","title":"should handle cursor timeout in verify"},{"ancestorTitles":["Network Timeout Scenarios"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Network Timeout Scenarios should handle connection pool exhaustion","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391041902,"status":"passed","title":"should handle connection pool exhaustion"}],"endTime":1764391041914,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/auth.mock.test.ts","startTime":1764391041175,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["CredibilityService - Unit Tests","updateCredibilityScore()"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CredibilityService - Unit Tests updateCredibilityScore() should update score with CHECK_IN action (+5 points)","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1764391042687,"status":"passed","title":"should update score with CHECK_IN action (+5 points)"},{"ancestorTitles":["CredibilityService - Unit Tests","updateCredibilityScore()"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CredibilityService - Unit Tests updateCredibilityScore() should update score with LEFT_WITHOUT_CHECKIN action (-10 points)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391042688,"status":"passed","title":"should update score with LEFT_WITHOUT_CHECKIN action (-10 points)"},{"ancestorTitles":["CredibilityService - Unit Tests","updateCredibilityScore()"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CredibilityService - Unit Tests updateCredibilityScore() should clamp score to 0 when deduction would make it negative","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391042689,"status":"passed","title":"should clamp score to 0 when deduction would make it negative"},{"ancestorTitles":["CredibilityService - Unit Tests","updateCredibilityScore()"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CredibilityService - Unit Tests updateCredibilityScore() should clamp score to 100 when addition would exceed 100","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391042690,"status":"passed","title":"should clamp score to 100 when addition would exceed 100"},{"ancestorTitles":["CredibilityService - Unit Tests","updateCredibilityScore()"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CredibilityService - Unit Tests updateCredibilityScore() should throw error when user not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391042691,"status":"passed","title":"should throw error when user not found"},{"ancestorTitles":["CredibilityService - Unit Tests","updateCredibilityScore()"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CredibilityService - Unit Tests updateCredibilityScore() should throw error for invalid action","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391042699,"status":"passed","title":"should throw error for invalid action"},{"ancestorTitles":["CredibilityService - Unit Tests","isCredibilityAcceptable()"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CredibilityService - Unit Tests isCredibilityAcceptable() should return true when score meets minimum requirement","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391042700,"status":"passed","title":"should return true when score meets minimum requirement"},{"ancestorTitles":["CredibilityService - Unit Tests","isCredibilityAcceptable()"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CredibilityService - Unit Tests isCredibilityAcceptable() should return false when score below minimum requirement","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391042700,"status":"passed","title":"should return false when score below minimum requirement"},{"ancestorTitles":["CredibilityService - Unit Tests","isCredibilityAcceptable()"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CredibilityService - Unit Tests isCredibilityAcceptable() should use default minimum of 50 when not specified","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391042701,"status":"passed","title":"should use default minimum of 50 when not specified"},{"ancestorTitles":["CredibilityService - Unit Tests","isCredibilityAcceptable()"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CredibilityService - Unit Tests isCredibilityAcceptable() should work with custom minimum requirements","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391042702,"status":"passed","title":"should work with custom minimum requirements"},{"ancestorTitles":["CredibilityCode Model - Unit Tests","generateCode() - max attempts failure"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CredibilityCode Model - Unit Tests generateCode() - max attempts failure should throw error when unable to generate unique code after 10 attempts","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391042702,"status":"passed","title":"should throw error when unable to generate unique code after 10 attempts"},{"ancestorTitles":["Credibility Models - Integration Tests","CredibilityCode - Expiration Tests"],"duration":68,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Models - Integration Tests CredibilityCode - Expiration Tests generateCode() should set expiresAt to 24 hours from now by default","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391042810,"status":"passed","title":"generateCode() should set expiresAt to 24 hours from now by default"},{"ancestorTitles":["Credibility Models - Integration Tests","CredibilityCode - Expiration Tests"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Models - Integration Tests CredibilityCode - Expiration Tests generateCode() should set expiresAt correctly with custom expiryHours","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391042879,"status":"passed","title":"generateCode() should set expiresAt correctly with custom expiryHours"},{"ancestorTitles":["Credibility Models - Integration Tests","CredibilityCode - Expiration Tests"],"duration":17,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Models - Integration Tests CredibilityCode - Expiration Tests isExpired() should return false for non-expired code","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391042882,"status":"passed","title":"isExpired() should return false for non-expired code"},{"ancestorTitles":["Credibility Models - Integration Tests","CredibilityCode - Expiration Tests"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Models - Integration Tests CredibilityCode - Expiration Tests isExpired() should return true for expired code","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391042900,"status":"passed","title":"isExpired() should return true for expired code"},{"ancestorTitles":["Credibility Models - Integration Tests","CredibilityCode - Expiration Tests"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Models - Integration Tests CredibilityCode - Expiration Tests findByCode() should not return expired codes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391042911,"status":"passed","title":"findByCode() should not return expired codes"},{"ancestorTitles":["Credibility Models - Integration Tests","CredibilityCode - Expiration Tests"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Models - Integration Tests CredibilityCode - Expiration Tests findByCode() should return non-expired codes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391042918,"status":"passed","title":"findByCode() should return non-expired codes"},{"ancestorTitles":["Credibility Models - Integration Tests","CredibilityCode - Expiration Tests"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Models - Integration Tests CredibilityCode - Expiration Tests findActiveCode() should not return expired codes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391042922,"status":"passed","title":"findActiveCode() should not return expired codes"},{"ancestorTitles":["Credibility Models - Integration Tests","CredibilityCode - Expiration Tests"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Models - Integration Tests CredibilityCode - Expiration Tests findActiveCode() should return non-expired codes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391042929,"status":"passed","title":"findActiveCode() should return non-expired codes"},{"ancestorTitles":["Credibility Models - Integration Tests","CredibilityCode - verify() method"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Models - Integration Tests CredibilityCode - verify() method verify() should add verifierId when not already verified","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391042934,"status":"passed","title":"verify() should add verifierId when not already verified"},{"ancestorTitles":["Credibility Models - Integration Tests","CredibilityCode - verify() method"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Models - Integration Tests CredibilityCode - verify() method verify() should not add duplicate verifierId when already verified","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391042943,"status":"passed","title":"verify() should not add duplicate verifierId when already verified"},{"ancestorTitles":["Credibility Models - Integration Tests","CredibilityCode - verify() method"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Models - Integration Tests CredibilityCode - verify() method verify() should allow multiple different verifiers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391042948,"status":"passed","title":"verify() should allow multiple different verifiers"}],"endTime":1764391042957,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/units/credibility.unit.test.ts","startTime":1764391041917,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["User Controller Type Guards"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Controller Type Guards getUserSettings should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043669,"status":"passed","title":"getUserSettings should return 401 when req.user is undefined"},{"ancestorTitles":["User Controller Type Guards"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Controller Type Guards createUserProfile should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043670,"status":"passed","title":"createUserProfile should return 401 when req.user is undefined"},{"ancestorTitles":["User Controller Type Guards"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Controller Type Guards updateUserSettings should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043670,"status":"passed","title":"updateUserSettings should return 401 when req.user is undefined"},{"ancestorTitles":["User Controller Type Guards"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Controller Type Guards updateUserProfile should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043671,"status":"passed","title":"updateUserProfile should return 401 when req.user is undefined"},{"ancestorTitles":["User Controller Type Guards"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Controller Type Guards deleteUser should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043671,"status":"passed","title":"deleteUser should return 401 when req.user is undefined"},{"ancestorTitles":["Group Controller Type Guards"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Controller Type Guards getGroupStatus should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043680,"status":"passed","title":"getGroupStatus should return 401 when req.user is undefined"},{"ancestorTitles":["Group Controller Type Guards"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Controller Type Guards getGroupStatus should return 200 with group status when user is in a group","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043680,"status":"passed","title":"getGroupStatus should return 200 with group status when user is in a group"},{"ancestorTitles":["Group Controller Type Guards"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Controller Type Guards voteForRestaurant should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043700,"status":"passed","title":"voteForRestaurant should return 401 when req.user is undefined"},{"ancestorTitles":["Group Controller Type Guards"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Controller Type Guards voteForRestaurant should return 400 when vote is not a boolean","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043701,"status":"passed","title":"voteForRestaurant should return 400 when vote is not a boolean"},{"ancestorTitles":["Group Controller Type Guards"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Controller Type Guards voteForRestaurant should return 400 when vote is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043701,"status":"passed","title":"voteForRestaurant should return 400 when vote is undefined"},{"ancestorTitles":["Group Controller Type Guards"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Controller Type Guards voteForRestaurant should return 400 when vote is a number","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043701,"status":"passed","title":"voteForRestaurant should return 400 when vote is a number"},{"ancestorTitles":["Group Controller Type Guards"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Controller Type Guards voteForRestaurant should return 200 when vote is valid boolean","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043702,"status":"passed","title":"voteForRestaurant should return 200 when vote is valid boolean"},{"ancestorTitles":["Group Controller Type Guards"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Controller Type Guards leaveGroup should return 200 when successfully leaving group","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043702,"status":"passed","title":"leaveGroup should return 200 when successfully leaving group"},{"ancestorTitles":["Group Controller Type Guards"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Group Controller Type Guards leaveGroup should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043703,"status":"passed","title":"leaveGroup should return 401 when req.user is undefined"},{"ancestorTitles":["Matching Controller Type Guards"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Matching Controller Type Guards joinMatching should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043712,"status":"passed","title":"joinMatching should return 401 when req.user is undefined"},{"ancestorTitles":["Matching Controller Type Guards"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Matching Controller Type Guards leaveRoom should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043712,"status":"passed","title":"leaveRoom should return 401 when req.user is undefined"},{"ancestorTitles":["Credibility Controller Type Guards"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Controller Type Guards generateCode should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043713,"status":"passed","title":"generateCode should return 401 when req.user is undefined"},{"ancestorTitles":["Credibility Controller Type Guards"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Controller Type Guards verifyCode should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043713,"status":"passed","title":"verifyCode should return 401 when req.user is undefined"},{"ancestorTitles":["Credibility Controller Type Guards"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Credibility Controller Type Guards deductScore should return 401 when req.user is undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391043714,"status":"passed","title":"deductScore should return 401 when req.user is undefined"}],"endTime":1764391043715,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/no-mocks/userGuard.test.ts","startTime":1764391042962,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GET /api/restaurant/search - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - No Mocking should return 200 and search results with valid coordinates","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1764391044419,"status":"passed","title":"should return 200 and search results with valid coordinates"},{"ancestorTitles":["GET /api/restaurant/search - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - No Mocking should return 400 when latitude is missing","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391044422,"status":"passed","title":"should return 400 when latitude is missing"},{"ancestorTitles":["GET /api/restaurant/search - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - No Mocking should return 400 when longitude is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391044423,"status":"passed","title":"should return 400 when longitude is missing"},{"ancestorTitles":["GET /api/restaurant/search - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - No Mocking should accept optional query parameters (radius, cuisineTypes, priceLevel)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391044424,"status":"passed","title":"should accept optional query parameters (radius, cuisineTypes, priceLevel)"},{"ancestorTitles":["GET /api/restaurant/search - No Mocking"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/search - No Mocking should work without authentication (optional auth)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391044426,"status":"passed","title":"should work without authentication (optional auth)"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - No Mocking should return 200 and restaurant details for valid ID","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1764391044427,"status":"passed","title":"should return 200 and restaurant details for valid ID"},{"ancestorTitles":["GET /api/restaurant/:restaurantId - No Mocking"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"GET /api/restaurant/:restaurantId - No Mocking should handle different restaurant IDs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391044428,"status":"passed","title":"should handle different restaurant IDs"},{"ancestorTitles":["POST /api/restaurant/recommendations/:groupId - No Mocking"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/restaurant/recommendations/:groupId - No Mocking should return 200 and recommendations with valid data","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391044429,"status":"passed","title":"should return 200 and recommendations with valid data"},{"ancestorTitles":["POST /api/restaurant/recommendations/:groupId - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/restaurant/recommendations/:groupId - No Mocking should return 401 without authentication token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391044435,"status":"passed","title":"should return 401 without authentication token"},{"ancestorTitles":["POST /api/restaurant/recommendations/:groupId - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/restaurant/recommendations/:groupId - No Mocking should return 400 when userPreferences is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391044436,"status":"passed","title":"should return 400 when userPreferences is missing"},{"ancestorTitles":["POST /api/restaurant/recommendations/:groupId - No Mocking"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/restaurant/recommendations/:groupId - No Mocking should return 400 when userPreferences is not an array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391044438,"status":"passed","title":"should return 400 when userPreferences is not an array"},{"ancestorTitles":["POST /api/restaurant/recommendations/:groupId - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/restaurant/recommendations/:groupId - No Mocking should handle empty userPreferences array","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391044440,"status":"passed","title":"should handle empty userPreferences array"},{"ancestorTitles":["POST /api/restaurant/recommendations/:groupId - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"POST /api/restaurant/recommendations/:groupId - No Mocking should calculate average preferences from multiple users","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391044441,"status":"passed","title":"should calculate average preferences from multiple users"},{"ancestorTitles":["RestaurantService.getNextRestaurant - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RestaurantService.getNextRestaurant - No Mocking should return next unvoted restaurant from pool","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1764391044442,"status":"passed","title":"should return next unvoted restaurant from pool"},{"ancestorTitles":["RestaurantService.getNextRestaurant - No Mocking"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RestaurantService.getNextRestaurant - No Mocking should return null when all restaurants have been voted on","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1764391044443,"status":"passed","title":"should return null when all restaurants have been voted on"},{"ancestorTitles":["RestaurantService.getNextRestaurant - No Mocking"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RestaurantService.getNextRestaurant - No Mocking should filter out restaurants without restaurantId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391044443,"status":"passed","title":"should filter out restaurants without restaurantId"}],"endTime":1764391044453,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/no-mocks/restaurant.test.ts","startTime":1764391043720,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Voting Routes Edge Cases (/api/groups)"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Voting Routes Edge Cases (/api/groups) should return 401 when req.user is missing for /:groupId/voting/vote","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391044568,"status":"passed","title":"should return 401 when req.user is missing for /:groupId/voting/vote"},{"ancestorTitles":["Voting Routes Edge Cases (/api/groups)"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Voting Routes Edge Cases (/api/groups) should return 401 when req.user is missing for /:groupId/voting/current","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1764391044576,"status":"passed","title":"should return 401 when req.user is missing for /:groupId/voting/current"},{"ancestorTitles":["Voting Routes Edge Cases (/api/groups)"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Voting Routes Edge Cases (/api/groups) should return 500 with fallback message when submitSequentialVote throws non-Error","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391044577,"status":"passed","title":"should return 500 with fallback message when submitSequentialVote throws non-Error"},{"ancestorTitles":["Voting Routes Edge Cases (/api/groups)"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Voting Routes Edge Cases (/api/groups) should return 500 when getCurrentVotingRound throws non-Error","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1764391044579,"status":"passed","title":"should return 500 when getCurrentVotingRound throws non-Error"}],"endTime":1764391044581,"message":"","name":"/Users/hashim/Desktop/Development/FeastFriends/321-project/backend/tests/with-mocks/voting.routes.mock.test.ts","startTime":1764391044456,"status":"passed","summary":""}],"wasInterrupted":false}
